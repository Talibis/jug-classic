2024-12-24T06:41:53.954Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : Starting JugglerApplicationKt v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/app.jar started by root in /app)
2024-12-24T06:41:53.965Z DEBUG 1 --- [main] jugger.JugglerApplicationKt              : Running with Spring Boot v3.1.5, Spring v6.0.13
2024-12-24T06:41:53.967Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : No active profile set, falling back to 1 default profile: "default"
2024-12-24T06:41:54.517Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-24T06:41:54.558Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
2024-12-24T06:41:54.959Z  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6705d26d-0b7e-38aa-aa1c-ec068849b258
2024-12-24T06:41:55.034Z  INFO 1 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jugger.models.AuthClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-24T06:41:55.338Z  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-12-24T06:41:55.350Z  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-24T06:41:55.351Z  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-12-24T06:41:55.452Z  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-24T06:41:55.453Z  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1405 ms
2024-12-24T06:41:55.522Z DEBUG 1 --- [main] j.c.SecurityConfig$jwtTokenFilter$1      : Filter 'jwtTokenFilter' configured for use
2024-12-24T06:41:55.636Z  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-24T06:41:55.680Z  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.13.Final
2024-12-24T06:41:55.684Z  INFO 1 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-12-24T06:41:55.898Z  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-24T06:41:55.914Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-24T06:41:56.967Z ERROR 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.

org.postgresql.util.PSQLException: FATAL: password authentication failed for user "game"
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar!/:42.6.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:437) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:279) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:193) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:69) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:231) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:199) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:169) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1383) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1454) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at jugger.JugglerApplicationKt.main(JugglerApplication.kt:19) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[app.jar:0.0.1-SNAPSHOT]

2024-12-24T06:41:56.972Z  WARN 1 --- [main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata

java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:279) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:193) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:69) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:231) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:199) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:169) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1383) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1454) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at jugger.JugglerApplicationKt.main(JugglerApplication.kt:19) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[app.jar:0.0.1-SNAPSHOT]

2024-12-24T06:41:56.986Z  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-24T06:41:57.462Z  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-24T06:41:57.473Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-24T06:41:58.476Z ERROR 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.

org.postgresql.util.PSQLException: FATAL: password authentication failed for user "game"
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar!/:42.6.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:437) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:293) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1458) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at jugger.JugglerApplicationKt.main(JugglerApplication.kt:19) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[app.jar:0.0.1-SNAPSHOT]

2024-12-24T06:41:58.479Z  WARN 1 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 28P01
2024-12-24T06:41:58.479Z ERROR 1 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : FATAL: password authentication failed for user "game"
2024-12-24T06:41:58.484Z ERROR 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: password authentication failed for user "game"] [n/a]
2024-12-24T06:41:58.485Z  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: password authentication failed for user "game"] [n/a]
2024-12-24T06:41:58.487Z  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-12-24T06:41:58.498Z  INFO 1 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-12-24T06:41:58.515Z ERROR 1 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: password authentication failed for user "game"] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at jugger.JugglerApplicationKt.main(JugglerApplication.kt:19) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: password authentication failed for user "game"] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar!/:6.0.13]
	... 24 common frames omitted
Caused by: org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: password authentication failed for user "game"] [n/a]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:61) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:293) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1458) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.13.jar!/:6.0.13]
	... 28 common frames omitted
Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user "game"
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar!/:42.6.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:437) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	... 48 common frames omitted

2024-12-24T06:42:31.189Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : Starting JugglerApplicationKt v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/app.jar started by root in /app)
2024-12-24T06:42:31.191Z DEBUG 1 --- [main] jugger.JugglerApplicationKt              : Running with Spring Boot v3.1.5, Spring v6.0.13
2024-12-24T06:42:31.193Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : No active profile set, falling back to 1 default profile: "default"
2024-12-24T06:42:31.750Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-24T06:42:31.789Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2024-12-24T06:42:32.204Z  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6705d26d-0b7e-38aa-aa1c-ec068849b258
2024-12-24T06:42:32.285Z  INFO 1 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jugger.models.AuthClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-24T06:42:32.617Z  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-12-24T06:42:32.628Z  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-24T06:42:32.628Z  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-12-24T06:42:32.719Z  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-24T06:42:32.721Z  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1457 ms
2024-12-24T06:42:32.792Z DEBUG 1 --- [main] j.c.SecurityConfig$jwtTokenFilter$1      : Filter 'jwtTokenFilter' configured for use
2024-12-24T06:42:32.911Z  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-24T06:42:32.957Z  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.13.Final
2024-12-24T06:42:32.960Z  INFO 1 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-12-24T06:42:33.159Z  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-24T06:42:33.175Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-24T06:42:34.229Z ERROR 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.

org.postgresql.util.PSQLException: FATAL: database "game" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2825) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:175) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar!/:42.6.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:437) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:279) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:193) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:69) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:231) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:199) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:169) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1383) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1454) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at jugger.JugglerApplicationKt.main(JugglerApplication.kt:19) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[app.jar:0.0.1-SNAPSHOT]

2024-12-24T06:42:34.235Z  WARN 1 --- [main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata

java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:279) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:193) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:69) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:231) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:199) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:169) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1383) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1454) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at jugger.JugglerApplicationKt.main(JugglerApplication.kt:19) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[app.jar:0.0.1-SNAPSHOT]

2024-12-24T06:42:34.247Z  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-24T06:42:34.698Z  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-24T06:42:34.709Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-24T06:42:35.712Z ERROR 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.

org.postgresql.util.PSQLException: FATAL: database "game" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2825) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:175) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar!/:42.6.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:437) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:293) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1458) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at jugger.JugglerApplicationKt.main(JugglerApplication.kt:19) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[app.jar:0.0.1-SNAPSHOT]

2024-12-24T06:42:35.715Z  WARN 1 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 3D000
2024-12-24T06:42:35.716Z ERROR 1 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : FATAL: database "game" does not exist
2024-12-24T06:42:35.723Z ERROR 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: database "game" does not exist] [n/a]
2024-12-24T06:42:35.724Z  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: database "game" does not exist] [n/a]
2024-12-24T06:42:35.726Z  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-12-24T06:42:35.739Z  INFO 1 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-12-24T06:42:35.756Z ERROR 1 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: database "game" does not exist] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar!/:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar!/:3.1.5]
	at jugger.JugglerApplicationKt.main(JugglerApplication.kt:19) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: database "game" does not exist] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar!/:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar!/:6.0.13]
	... 24 common frames omitted
Caused by: org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: database "game" does not exist] [n/a]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:61) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:293) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1458) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.13.jar!/:6.0.13]
	... 28 common frames omitted
Caused by: org.postgresql.util.PSQLException: FATAL: database "game" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2825) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:175) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar!/:42.6.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:437) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	... 48 common frames omitted

2024-12-24T06:42:56.557Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : Starting JugglerApplicationKt v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/app.jar started by root in /app)
2024-12-24T06:42:56.559Z DEBUG 1 --- [main] jugger.JugglerApplicationKt              : Running with Spring Boot v3.1.5, Spring v6.0.13
2024-12-24T06:42:56.561Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : No active profile set, falling back to 1 default profile: "default"
2024-12-24T06:42:57.104Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-24T06:42:57.142Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2024-12-24T06:42:57.542Z  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6705d26d-0b7e-38aa-aa1c-ec068849b258
2024-12-24T06:42:57.626Z  INFO 1 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jugger.models.AuthClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-24T06:42:57.937Z  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-12-24T06:42:57.952Z  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-24T06:42:57.953Z  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-12-24T06:42:58.052Z  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-24T06:42:58.053Z  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1418 ms
2024-12-24T06:42:58.116Z DEBUG 1 --- [main] j.c.SecurityConfig$jwtTokenFilter$1      : Filter 'jwtTokenFilter' configured for use
2024-12-24T06:42:58.234Z  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-24T06:42:58.282Z  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.13.Final
2024-12-24T06:42:58.285Z  INFO 1 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-12-24T06:42:58.496Z  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-24T06:42:58.513Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-24T06:42:58.590Z  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@58065f0c
2024-12-24T06:42:58.593Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-24T06:42:58.621Z  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-24T06:42:59.115Z  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-24T06:42:59.171Z  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-24T06:42:59.905Z  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-24T06:42:59.929Z  WARN 1 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 85d1150c-ce03-413f-9d68-fa3bd3437f7c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-24T06:43:00.031Z DEBUG 1 --- [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/chat] in 'webSocketHandlerMapping'
2024-12-24T06:43:00.082Z DEBUG 1 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 6 mappings in 'requestMappingHandlerMapping'
2024-12-24T06:43:00.113Z DEBUG 1 --- [main] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2024-12-24T06:43:00.145Z  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3d20e575, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3252747e, org.springframework.security.web.context.SecurityContextHolderFilter@309cedb6, org.springframework.security.web.header.HeaderWriterFilter@adcfad9, org.springframework.web.filter.CorsFilter@2b4b96a4, org.springframework.security.web.authentication.logout.LogoutFilter@682af059, jugger.config.SecurityConfig$jwtTokenFilter$1@32232e55, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3bf54172, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b3cde6f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2dd8ff1d, org.springframework.security.web.session.SessionManagementFilter@753fd7a1, org.springframework.security.web.access.ExceptionTranslationFilter@5b5dce5c, org.springframework.security.web.access.intercept.AuthorizationFilter@3127cb44]
2024-12-24T06:43:00.235Z DEBUG 1 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-24T06:43:00.284Z DEBUG 1 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-24T06:43:00.441Z  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-12-24T06:43:00.456Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : Started JugglerApplicationKt in 4.352 seconds (process running for 4.754)
2024-12-24T06:43:11.022Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-24T06:43:11.023Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-24T06:43:11.024Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-24T06:43:11.024Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-24T06:43:11.024Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-24T06:43:11.025Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@467233e4
2024-12-24T06:43:11.026Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3ddb774f
2024-12-24T06:43:11.027Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-24T06:43:11.028Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2024-12-24T06:43:11.047Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T06:43:11.049Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T06:43:11.051Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T06:43:11.053Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T06:43:11.118Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=testuser66@example.com, password=12345678)]
2024-12-24T06:43:11.123Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.controllers.AuthController        : Attempting to login user: testuser66@example.com
2024-12-24T06:43:11.196Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T06:43:11.203Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler jugger.exceptions.GlobalExceptionHandler#handleGeneralExceptions(Exception)
2024-12-24T06:43:11.204Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-1] j.exceptions.GlobalExceptionHandler      : Unexpected error

jugger.services.UserService$UserNotFoundException: User not found
	at jugger.services.UserService.authenticateUser$lambda$1(UserService.kt:109) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at jugger.services.UserService.authenticateUser(UserService.kt:109) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at jugger.services.UserService$$SpringCGLIB$$0.authenticateUser(<generated>) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.controllers.AuthController.loginUser(AuthController.kt:33) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at jugger.config.SecurityConfig$jwtTokenFilter$1.doFilterInternal(SecurityConfig.kt:66) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T06:43:11.251Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T06:43:11.254Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse(status=500, message=An unexpected error occurred, errors=[User not found])]
2024-12-24T06:43:11.267Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jugger.services.UserService$UserNotFoundException: User not found]
2024-12-24T06:43:11.268Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-24T06:43:24.888Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#registerUser(UserRegistrationDto)
2024-12-24T06:43:24.889Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#registerUser(UserRegistrationDto)
2024-12-24T06:43:24.890Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/register", parameters={}
2024-12-24T06:43:24.890Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#registerUser(UserRegistrationDto)
2024-12-24T06:43:24.899Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserRegistrationDto(email=testuser66@example.com, password=12345678)]
2024-12-24T06:43:24.899Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.controllers.AuthController        : Attempting to register user: testuser66@example.com
2024-12-24T06:43:24.909Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id from users u1_0 where u1_0.email=? fetch first ? rows only
2024-12-24T06:43:24.912Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.UserService              : Creating new user: email=testuser66@example.com
2024-12-24T06:43:25.135Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : insert into users (created_at,email,have_character,password) values (?,?,?,?)
2024-12-24T06:43:25.146Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.UserService              : User registered successfully: email=testuser66@example.com
2024-12-24T06:43:25.146Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.UserService              : Mapping user to registration response DTO: email=testuser66@example.com
2024-12-24T06:43:25.161Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T06:43:25.163Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserRegistrationResponseDto(id=38, email=testuser66@example.com, haveCharacter=false)]
2024-12-24T06:43:25.166Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T06:43:30.984Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T06:43:30.985Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T06:43:30.986Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T06:43:30.986Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T06:43:30.987Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=testuser66@example.com, password=12345678)]
2024-12-24T06:43:30.988Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.controllers.AuthController        : Attempting to login user: testuser66@example.com
2024-12-24T06:43:30.990Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T06:43:31.301Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.services.UserService              : User authenticated successfully: testuser66@example.com
2024-12-24T06:43:31.301Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.services.UserService              : Mapping user to response DTO: email=testuser66@example.com
2024-12-24T06:43:31.307Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T06:43:31.310Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=38, email=testuser66@example.com, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0 (truncated)...]
2024-12-24T06:43:31.312Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T06:43:53.153Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#registerUser(UserRegistrationDto)
2024-12-24T06:43:53.154Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#registerUser(UserRegistrationDto)
2024-12-24T06:43:53.155Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/register", parameters={}
2024-12-24T06:43:53.155Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#registerUser(UserRegistrationDto)
2024-12-24T06:43:53.156Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserRegistrationDto(email=testuser66@example.com, password=12345678)]
2024-12-24T06:43:53.156Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.controllers.AuthController        : Attempting to register user: testuser66@example.com
2024-12-24T06:43:53.159Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select u1_0.id from users u1_0 where u1_0.email=? fetch first ? rows only
2024-12-24T06:43:53.161Z  WARN 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.UserService              : Email already exists: testuser66@example.com
2024-12-24T06:43:53.163Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler jugger.exceptions.GlobalExceptionHandler#handleValidationException(ValidationException)
2024-12-24T06:43:53.164Z  WARN 1 --- [http-nio-0.0.0.0-8080-exec-6] j.exceptions.GlobalExceptionHandler      : Validation exception: Email already exists
2024-12-24T06:43:53.165Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T06:43:53.165Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse(status=400, message=Validation error, errors=[Email already exists])]
2024-12-24T06:43:53.166Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [javax.validation.ValidationException: Email already exists]
2024-12-24T06:43:53.167Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2024-12-24T06:43:54.359Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#registerUser(UserRegistrationDto)
2024-12-24T06:43:54.360Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#registerUser(UserRegistrationDto)
2024-12-24T06:43:54.360Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/register", parameters={}
2024-12-24T06:43:54.361Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#registerUser(UserRegistrationDto)
2024-12-24T06:43:54.362Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserRegistrationDto(email=testuser66@example.com, password=12345678)]
2024-12-24T06:43:54.362Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.controllers.AuthController        : Attempting to register user: testuser66@example.com
2024-12-24T06:43:54.365Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id from users u1_0 where u1_0.email=? fetch first ? rows only
2024-12-24T06:43:54.366Z  WARN 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.UserService              : Email already exists: testuser66@example.com
2024-12-24T06:43:54.367Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler jugger.exceptions.GlobalExceptionHandler#handleValidationException(ValidationException)
2024-12-24T06:43:54.368Z  WARN 1 --- [http-nio-0.0.0.0-8080-exec-8] j.exceptions.GlobalExceptionHandler      : Validation exception: Email already exists
2024-12-24T06:43:54.368Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T06:43:54.368Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse(status=400, message=Validation error, errors=[Email already exists])]
2024-12-24T06:43:54.370Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [javax.validation.ValidationException: Email already exists]
2024-12-24T06:43:54.370Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2024-12-24T06:44:06.729Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/check-character", parameters={}
2024-12-24T06:44:06.730Z  WARN 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.PageNotFound             : No mapping for GET /api/v1/check-character
2024-12-24T06:44:06.731Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler jugger.exceptions.GlobalExceptionHandler#handleGeneralExceptions(Exception)
2024-12-24T06:44:06.732Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-10] j.exceptions.GlobalExceptionHandler      : Unexpected error

org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/v1/check-character.
	at org.springframework.web.servlet.DispatcherServlet.noHandlerFound(DispatcherServlet.java:1296) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1059) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at jugger.config.SecurityConfig$jwtTokenFilter$1.doFilterInternal(SecurityConfig.kt:66) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T06:44:06.733Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T06:44:06.734Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse(status=500, message=An unexpected error occurred, errors=[No endpoint GET /api/v1/chec (truncated)...]
2024-12-24T06:44:06.735Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/v1/check-character.]
2024-12-24T06:44:06.735Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-24T06:44:21.212Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#checkUserCharacter(String)
2024-12-24T06:44:21.213Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#checkUserCharacter(String)
2024-12-24T06:44:21.214Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#checkUserCharacter(String)
2024-12-24T06:44:21.214Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/character/check-character", parameters={}
2024-12-24T06:44:21.215Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#checkUserCharacter(String)
2024-12-24T06:44:21.228Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T06:44:21.237Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T06:44:21.238Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{hasCharacter=false}]
2024-12-24T06:44:21.239Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T06:44:57.043Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T06:44:57.044Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T06:44:57.044Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T06:44:57.044Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/character/create", parameters={}
2024-12-24T06:44:57.045Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T06:44:57.051Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CharacterCreateRequest(characterClass=PERUN, characterName=talib2, initialLocation=2)]
2024-12-24T06:44:57.052Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.controllers.CharacterController   : Character creation request: CharacterCreateRequest(characterClass=PERUN, characterName=talib2, initialLocation=2)
2024-12-24T06:44:57.056Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.services.CharacterService         : Attempting to create character for user: testuser66@example.com
2024-12-24T06:44:57.058Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T06:44:57.062Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id from characters c1_0 where c1_0.email=? fetch first ? rows only
2024-12-24T06:44:57.066Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : insert into characters (banned,character_class,character_name,created_at,email,experience,health,level,location_id,mana,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?)
2024-12-24T06:44:57.070Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.services.CharacterService         : Character created successfully for user: testuser66@example.com
2024-12-24T06:44:57.079Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : update users set created_at=?,email=?,have_character=?,password=? where id=?
2024-12-24T06:44:57.161Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T06:44:57.168Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Character(id=6, email=testuser66@example.com, characterName=talib2, characterClass=PERUN, level=1, h (truncated)...]
2024-12-24T06:44:57.171Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T06:45:07.039Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30893e08
2024-12-24T06:45:07.039Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30893e08
2024-12-24T06:45:07.040Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30893e08
2024-12-24T06:45:07.040Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T06:45:07.041Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30893e08
2024-12-24T06:45:07.042Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T06:45:07.045Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T06:45:07.060Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T06:45:07.070Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=e893c09a-10f9-78d2-bdfb-bf9cb723a128, uri=ws://localhost:8081/chat]
2024-12-24T06:45:07.074Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T06:45:07.079Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T06:45:07.086Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T06:45:07.098Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketHandler         : New WebSocket connection: e893c09a-10f9-78d2-bdfb-bf9cb723a128
2024-12-24T06:45:12.392Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : Message processing error: No token provided

java.lang.IllegalArgumentException: No token provided
	at jugger.handlers.WebSocketHandler.extractToken(WebSocketHandler.kt:131) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.handleTextMessage(WebSocketHandler.kt:51) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T06:45:25.114Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=e893c09a-10f9-78d2-bdfb-bf9cb723a128, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1000, reason=null]
2024-12-24T06:45:25.114Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=e893c09a-10f9-78d2-bdfb-bf9cb723a128, uri=ws://localhost:8081/chat]
2024-12-24T06:45:25.115Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketHandler         : WebSocket connection closed: e893c09a-10f9-78d2-bdfb-bf9cb723a128, status: CloseStatus[code=1000, reason=null]
2024-12-24T06:45:30.182Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30893e08
2024-12-24T06:45:30.182Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30893e08
2024-12-24T06:45:30.183Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30893e08
2024-12-24T06:45:30.184Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T06:45:30.184Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30893e08
2024-12-24T06:45:30.184Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T06:45:30.186Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T06:45:30.187Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T06:45:30.189Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=cd7ee251-9919-6056-0e55-542bda724cd1, uri=ws://localhost:8081/chat]
2024-12-24T06:45:30.193Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T06:45:30.194Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T06:45:30.198Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T06:45:30.202Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketHandler         : New WebSocket connection: cd7ee251-9919-6056-0e55-542bda724cd1
2024-12-24T06:45:31.194Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=cd7ee251-9919-6056-0e55-542bda724cd1, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1000, reason=null]
2024-12-24T06:45:31.194Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=cd7ee251-9919-6056-0e55-542bda724cd1, uri=ws://localhost:8081/chat]
2024-12-24T06:45:31.195Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.handlers.WebSocketHandler         : WebSocket connection closed: cd7ee251-9919-6056-0e55-542bda724cd1, status: CloseStatus[code=1000, reason=null]
2024-12-24T06:45:38.557Z  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-24T06:45:38.559Z  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-24T06:45:38.562Z  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-24T07:51:36.199Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : Starting JugglerApplicationKt v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/app.jar started by root in /app)
2024-12-24T07:51:36.202Z DEBUG 1 --- [main] jugger.JugglerApplicationKt              : Running with Spring Boot v3.1.5, Spring v6.0.13
2024-12-24T07:51:36.205Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : No active profile set, falling back to 1 default profile: "default"
2024-12-24T07:51:37.138Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-24T07:51:37.204Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 3 JPA repository interfaces.
2024-12-24T07:51:37.882Z  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6705d26d-0b7e-38aa-aa1c-ec068849b258
2024-12-24T07:51:38.013Z  INFO 1 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jugger.models.AuthClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-24T07:51:38.513Z  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-12-24T07:51:38.533Z  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-24T07:51:38.535Z  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-12-24T07:51:38.667Z  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-24T07:51:38.668Z  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2346 ms
2024-12-24T07:51:38.757Z DEBUG 1 --- [main] j.c.SecurityConfig$jwtTokenFilter$1      : Filter 'jwtTokenFilter' configured for use
2024-12-24T07:51:38.952Z  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-24T07:51:39.056Z  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.13.Final
2024-12-24T07:51:39.061Z  INFO 1 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-12-24T07:51:39.450Z  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-24T07:51:39.478Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-24T07:51:39.715Z  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5f462e3b
2024-12-24T07:51:39.722Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-24T07:51:39.800Z  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-24T07:51:40.580Z  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-24T07:51:40.659Z  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-24T07:51:41.951Z  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-24T07:51:42.009Z  WARN 1 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 4a9f6977-12d8-447e-9806-c2c1dfecbae7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-24T07:51:42.278Z DEBUG 1 --- [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/chat] in 'webSocketHandlerMapping'
2024-12-24T07:51:42.388Z DEBUG 1 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 6 mappings in 'requestMappingHandlerMapping'
2024-12-24T07:51:42.433Z DEBUG 1 --- [main] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2024-12-24T07:51:42.476Z  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3234474, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@631cb129, org.springframework.security.web.context.SecurityContextHolderFilter@12a2585b, org.springframework.security.web.header.HeaderWriterFilter@5b5dce5c, org.springframework.web.filter.CorsFilter@3d20e575, org.springframework.security.web.authentication.logout.LogoutFilter@35c4e864, jugger.config.SecurityConfig$jwtTokenFilter$1@549621f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@309cedb6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3bf54172, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3252747e, org.springframework.security.web.session.SessionManagementFilter@10c47c79, org.springframework.security.web.access.ExceptionTranslationFilter@273a5a8a, org.springframework.security.web.access.intercept.AuthorizationFilter@1d4fb213]
2024-12-24T07:51:42.623Z DEBUG 1 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-24T07:51:42.685Z DEBUG 1 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-24T07:51:42.944Z  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-12-24T07:51:42.961Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : Started JugglerApplicationKt in 7.434 seconds (process running for 8.078)
2024-12-24T07:53:42.348Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-24T07:53:42.349Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-24T07:53:42.349Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-24T07:53:42.350Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-24T07:53:42.350Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-24T07:53:42.351Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5d3ff859
2024-12-24T07:53:42.352Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@294f9d50
2024-12-24T07:53:42.352Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-24T07:53:42.352Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-12-24T07:53:42.380Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:53:42.381Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:53:42.384Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T07:53:42.387Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:53:42.479Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T07:53:42.485Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T07:53:42.599Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T07:53:42.610Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler jugger.exceptions.GlobalExceptionHandler#handleGeneralExceptions(Exception)
2024-12-24T07:53:42.610Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-1] j.exceptions.GlobalExceptionHandler      : Unexpected error

jugger.services.UserService$UserNotFoundException: User not found
	at jugger.services.UserService.authenticateUser$lambda$1(UserService.kt:109) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at jugger.services.UserService.authenticateUser(UserService.kt:109) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at jugger.services.UserService$$SpringCGLIB$$0.authenticateUser(<generated>) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.controllers.AuthController.loginUser(AuthController.kt:33) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar!/:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at jugger.config.SecurityConfig$jwtTokenFilter$1.doFilterInternal(SecurityConfig.kt:66) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar!/:6.1.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar!/:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T07:53:42.673Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T07:53:42.677Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse(status=500, message=An unexpected error occurred, errors=[User not found])]
2024-12-24T07:53:42.692Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jugger.services.UserService$UserNotFoundException: User not found]
2024-12-24T07:53:42.693Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-24T07:53:56.178Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#registerUser(UserRegistrationDto)
2024-12-24T07:53:56.179Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#registerUser(UserRegistrationDto)
2024-12-24T07:53:56.180Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/register", parameters={}
2024-12-24T07:53:56.181Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#registerUser(UserRegistrationDto)
2024-12-24T07:53:56.187Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserRegistrationDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T07:53:56.188Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.controllers.AuthController        : Attempting to register user: talib2@mail.ru
2024-12-24T07:53:56.200Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select u1_0.id from users u1_0 where u1_0.email=? fetch first ? rows only
2024-12-24T07:53:56.204Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.UserService              : Creating new user: email=talib2@mail.ru
2024-12-24T07:53:56.442Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : insert into users (created_at,email,have_character,password) values (?,?,?,?)
2024-12-24T07:53:56.455Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.UserService              : User registered successfully: email=talib2@mail.ru
2024-12-24T07:53:56.455Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.UserService              : Mapping user to registration response DTO: email=talib2@mail.ru
2024-12-24T07:53:56.472Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2024-12-24T07:53:56.475Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserRegistrationResponseDto(id=39, email=talib2@mail.ru, haveCharacter=false)]
2024-12-24T07:53:56.477Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T07:54:05.570Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:54:05.571Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:54:05.571Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T07:54:05.572Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:54:05.573Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T07:54:05.573Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T07:54:05.574Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T07:54:05.924Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T07:54:05.925Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T07:54:05.931Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T07:54:05.933Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T07:54:05.935Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T07:55:00.707Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:55:00.708Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:55:00.708Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T07:55:00.709Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:55:00.710Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T07:55:00.710Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T07:55:00.712Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T07:55:00.920Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T07:55:00.921Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T07:55:00.921Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T07:55:00.922Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T07:55:00.923Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T07:55:49.095Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:55:49.095Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:55:49.096Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T07:55:49.096Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:55:49.097Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T07:55:49.097Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T07:55:49.099Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T07:55:49.305Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T07:55:49.306Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T07:55:49.307Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T07:55:49.307Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T07:55:49.308Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T07:57:57.867Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:57:57.868Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:57:57.869Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T07:57:57.869Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:57:57.870Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T07:57:57.870Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T07:57:57.872Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T07:57:58.079Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T07:57:58.079Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T07:57:58.080Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T07:57:58.080Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T07:57:58.082Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T07:57:58.927Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:58.928Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:58.929Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:58.936Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:58.937Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:58.937Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:58.966Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:58.967Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:58.967Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:58.968Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:58.969Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:58.969Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:58.994Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:58.995Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:58.995Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:58.996Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:58.997Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:58.997Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:59.022Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:59.022Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:59.023Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:59.024Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:59.024Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:59.025Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:59.049Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:59.050Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:59.050Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:59.051Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:59.052Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:59.052Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:59.077Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:59.078Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:59.078Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T07:57:59.080Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:59.081Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:57:59.081Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T07:59:56.839Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:59:56.840Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:59:56.840Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T07:59:56.841Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T07:59:56.841Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T07:59:56.842Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T07:59:56.843Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T07:59:57.054Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T07:59:57.055Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T07:59:57.055Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T07:59:57.056Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T07:59:57.057Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:01:10.022Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:01:10.023Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:01:10.023Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:01:10.024Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:01:10.025Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T08:01:10.025Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T08:01:10.027Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:01:10.235Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:01:10.236Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:01:10.236Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:01:10.237Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:01:10.238Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:01:11.090Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.091Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.091Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.092Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:01:11.092Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.094Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:01:11.097Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:01:11.118Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:01:11.133Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=08f6b6a0-1617-b5e9-7798-ffdb961c49a2, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.141Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:01:11.145Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Error handling new connection

java.lang.IllegalStateException: No character found for user
	at jugger.services.ChatService.handleNewConnection(ChatService.kt:32) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at jugger.services.ChatService$$SpringCGLIB$$0.handleNewConnection(<generated>) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.afterConnectionEstablished(WebSocketHandler.kt:28) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionEstablished(WebSocketHandlerDecorator.java:70) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionEstablished(LoggingWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionEstablished(ExceptionWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onOpen(StandardWebSocketHandlerAdapter.java:103) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:938) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:01:11.147Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=08f6b6a0-1617-b5e9-7798-ffdb961c49a2, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.149Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.149Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.149Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.150Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:01:11.150Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.151Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:01:11.152Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=08f6b6a0-1617-b5e9-7798-ffdb961c49a2, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1000, reason=null]
2024-12-24T08:01:11.153Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=08f6b6a0-1617-b5e9-7798-ffdb961c49a2, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.153Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 08f6b6a0-1617-b5e9-7798-ffdb961c49a2, status: CloseStatus[code=1000, reason=null]
2024-12-24T08:01:11.154Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:01:11.154Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketHandler         : New WebSocket connection: 08f6b6a0-1617-b5e9-7798-ffdb961c49a2
2024-12-24T08:01:11.155Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:01:11.155Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=08f6b6a0-1617-b5e9-7798-ffdb961c49a2, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:01:11.156Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=00dc6563-4e1e-9f6c-bf98-41cf439ea9c5, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.161Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:01:11.163Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.services.ChatService              : Error handling new connection

java.lang.IllegalStateException: No character found for user
	at jugger.services.ChatService.handleNewConnection(ChatService.kt:32) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at jugger.services.ChatService$$SpringCGLIB$$0.handleNewConnection(<generated>) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.afterConnectionEstablished(WebSocketHandler.kt:28) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionEstablished(WebSocketHandlerDecorator.java:70) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionEstablished(LoggingWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionEstablished(ExceptionWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onOpen(StandardWebSocketHandlerAdapter.java:103) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:938) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:01:11.164Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=00dc6563-4e1e-9f6c-bf98-41cf439ea9c5, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.164Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=00dc6563-4e1e-9f6c-bf98-41cf439ea9c5, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1000, reason=null]
2024-12-24T08:01:11.164Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=00dc6563-4e1e-9f6c-bf98-41cf439ea9c5, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.165Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 00dc6563-4e1e-9f6c-bf98-41cf439ea9c5, status: CloseStatus[code=1000, reason=null]
2024-12-24T08:01:11.165Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketHandler         : New WebSocket connection: 00dc6563-4e1e-9f6c-bf98-41cf439ea9c5
2024-12-24T08:01:11.166Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=00dc6563-4e1e-9f6c-bf98-41cf439ea9c5, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:01:11.183Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.184Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.184Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.184Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:01:11.185Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.185Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:01:11.187Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:01:11.189Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:01:11.190Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=444cbc0d-cc0a-4ff6-7c3f-1ad7e1880ea8, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.193Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:01:11.195Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Error handling new connection

java.lang.IllegalStateException: No character found for user
	at jugger.services.ChatService.handleNewConnection(ChatService.kt:32) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at jugger.services.ChatService$$SpringCGLIB$$0.handleNewConnection(<generated>) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.afterConnectionEstablished(WebSocketHandler.kt:28) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionEstablished(WebSocketHandlerDecorator.java:70) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionEstablished(LoggingWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionEstablished(ExceptionWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onOpen(StandardWebSocketHandlerAdapter.java:103) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:938) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:01:11.196Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=444cbc0d-cc0a-4ff6-7c3f-1ad7e1880ea8, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.196Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=444cbc0d-cc0a-4ff6-7c3f-1ad7e1880ea8, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1000, reason=null]
2024-12-24T08:01:11.197Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=444cbc0d-cc0a-4ff6-7c3f-1ad7e1880ea8, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.197Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 444cbc0d-cc0a-4ff6-7c3f-1ad7e1880ea8, status: CloseStatus[code=1000, reason=null]
2024-12-24T08:01:11.197Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketHandler         : New WebSocket connection: 444cbc0d-cc0a-4ff6-7c3f-1ad7e1880ea8
2024-12-24T08:01:11.198Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=444cbc0d-cc0a-4ff6-7c3f-1ad7e1880ea8, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:01:11.223Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.223Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.224Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.224Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:01:11.225Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.225Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:01:11.227Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:01:11.229Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:01:11.230Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=cb4d427a-87cc-99ec-9989-2162185adf21, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.233Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:01:11.235Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.services.ChatService              : Error handling new connection

java.lang.IllegalStateException: No character found for user
	at jugger.services.ChatService.handleNewConnection(ChatService.kt:32) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at jugger.services.ChatService$$SpringCGLIB$$0.handleNewConnection(<generated>) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.afterConnectionEstablished(WebSocketHandler.kt:28) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionEstablished(WebSocketHandlerDecorator.java:70) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionEstablished(LoggingWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionEstablished(ExceptionWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onOpen(StandardWebSocketHandlerAdapter.java:103) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:938) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:01:11.236Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=cb4d427a-87cc-99ec-9989-2162185adf21, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.237Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=cb4d427a-87cc-99ec-9989-2162185adf21, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1000, reason=null]
2024-12-24T08:01:11.237Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=cb4d427a-87cc-99ec-9989-2162185adf21, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.238Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : WebSocket connection closed: cb4d427a-87cc-99ec-9989-2162185adf21, status: CloseStatus[code=1000, reason=null]
2024-12-24T08:01:11.238Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : New WebSocket connection: cb4d427a-87cc-99ec-9989-2162185adf21
2024-12-24T08:01:11.239Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=cb4d427a-87cc-99ec-9989-2162185adf21, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:01:11.260Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.260Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.261Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.261Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:01:11.262Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.262Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:01:11.264Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:01:11.265Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:01:11.266Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=e047c353-3fef-a7e6-784b-4dfdd4707c94, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.270Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:01:11.271Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.ChatService              : Error handling new connection

java.lang.IllegalStateException: No character found for user
	at jugger.services.ChatService.handleNewConnection(ChatService.kt:32) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at jugger.services.ChatService$$SpringCGLIB$$0.handleNewConnection(<generated>) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.afterConnectionEstablished(WebSocketHandler.kt:28) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionEstablished(WebSocketHandlerDecorator.java:70) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionEstablished(LoggingWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionEstablished(ExceptionWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onOpen(StandardWebSocketHandlerAdapter.java:103) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:938) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:01:11.273Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=e047c353-3fef-a7e6-784b-4dfdd4707c94, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.274Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=e047c353-3fef-a7e6-784b-4dfdd4707c94, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1000, reason=null]
2024-12-24T08:01:11.274Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=e047c353-3fef-a7e6-784b-4dfdd4707c94, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.274Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketHandler         : WebSocket connection closed: e047c353-3fef-a7e6-784b-4dfdd4707c94, status: CloseStatus[code=1000, reason=null]
2024-12-24T08:01:11.275Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketHandler         : New WebSocket connection: e047c353-3fef-a7e6-784b-4dfdd4707c94
2024-12-24T08:01:11.275Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=e047c353-3fef-a7e6-784b-4dfdd4707c94, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:01:11.294Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.295Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.295Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.295Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:01:11.296Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:01:11.296Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:01:11.298Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:01:11.300Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:01:11.300Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=38aaaa09-0623-db41-26e9-02446d3339f5, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.304Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:01:11.305Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.services.ChatService              : Error handling new connection

java.lang.IllegalStateException: No character found for user
	at jugger.services.ChatService.handleNewConnection(ChatService.kt:32) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at jugger.services.ChatService$$SpringCGLIB$$0.handleNewConnection(<generated>) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.afterConnectionEstablished(WebSocketHandler.kt:28) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionEstablished(WebSocketHandlerDecorator.java:70) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionEstablished(LoggingWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionEstablished(ExceptionWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onOpen(StandardWebSocketHandlerAdapter.java:103) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:938) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:01:11.306Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=38aaaa09-0623-db41-26e9-02446d3339f5, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.307Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=38aaaa09-0623-db41-26e9-02446d3339f5, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1000, reason=null]
2024-12-24T08:01:11.307Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=38aaaa09-0623-db41-26e9-02446d3339f5, uri=ws://localhost:8081/chat]
2024-12-24T08:01:11.307Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 38aaaa09-0623-db41-26e9-02446d3339f5, status: CloseStatus[code=1000, reason=null]
2024-12-24T08:01:11.308Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketHandler         : New WebSocket connection: 38aaaa09-0623-db41-26e9-02446d3339f5
2024-12-24T08:01:11.308Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=38aaaa09-0623-db41-26e9-02446d3339f5, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:02:07.948Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:02:07.948Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:02:07.949Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:02:07.949Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:02:07.950Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:02:07.950Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:02:07.952Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:02:07.960Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:02:07.963Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=4582fa9b-0149-6505-cfdd-8f3908f44fa6, uri=ws://localhost:8081/chat]
2024-12-24T08:02:07.969Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:02:07.984Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:02:07.999Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:02:08.012Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.handlers.WebSocketHandler         : New WebSocket connection: 4582fa9b-0149-6505-cfdd-8f3908f44fa6
2024-12-24T08:02:10.251Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=4582fa9b-0149-6505-cfdd-8f3908f44fa6, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1000, reason=null]
2024-12-24T08:02:10.252Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=4582fa9b-0149-6505-cfdd-8f3908f44fa6, uri=ws://localhost:8081/chat]
2024-12-24T08:02:10.253Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-9] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 4582fa9b-0149-6505-cfdd-8f3908f44fa6, status: CloseStatus[code=1000, reason=null]
2024-12-24T08:02:34.770Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:02:34.771Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:02:34.771Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:02:34.771Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:02:34.772Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=Talib2@mail.ru, password=12345678A)]
2024-12-24T08:02:34.773Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.controllers.AuthController        : Attempting to login user: Talib2@mail.ru
2024-12-24T08:02:34.775Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:02:34.984Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:02:34.984Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:02:34.985Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:02:34.985Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:02:34.987Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:02:46.320Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:02:46.321Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:02:46.321Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:02:46.323Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:02:46.323Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:02:46.324Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:02:58.278Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:02:58.279Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:02:58.279Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:02:58.281Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:02:58.282Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:02:58.282Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:03:18.248Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:03:18.249Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:03:18.249Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:03:18.250Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:03:18.250Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:03:18.251Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:03:30.309Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:03:30.310Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:03:30.310Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:03:30.311Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:03:30.311Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:03:30.312Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:03:34.249Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:03:34.250Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:03:34.250Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:03:34.251Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:03:34.252Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=Talib2@mail.ru, password=12345678A)]
2024-12-24T08:03:34.252Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.controllers.AuthController        : Attempting to login user: Talib2@mail.ru
2024-12-24T08:03:34.254Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:03:34.462Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:03:34.462Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:03:34.463Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:03:34.463Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:03:34.464Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:03:45.372Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#checkUserCharacter(String)
2024-12-24T08:03:45.373Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#checkUserCharacter(String)
2024-12-24T08:03:45.373Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#checkUserCharacter(String)
2024-12-24T08:03:45.373Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/character/check-character", parameters={}
2024-12-24T08:03:45.374Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#checkUserCharacter(String)
2024-12-24T08:03:45.384Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:03:45.392Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:03:45.392Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{hasCharacter=false}]
2024-12-24T08:03:45.394Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:03:53.651Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:03:53.651Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:03:53.652Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:03:53.652Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/character/create", parameters={}
2024-12-24T08:03:53.652Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#createCharacter(String, CharacterCreateRequest)
2024-12-24T08:03:53.662Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CharacterCreateRequest(characterClass=PERUN, characterName=talib433, initialLocation=2)]
2024-12-24T08:03:53.662Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.controllers.CharacterController   : Character creation request: CharacterCreateRequest(characterClass=PERUN, characterName=talib433, initialLocation=2)
2024-12-24T08:03:53.664Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.CharacterService         : Attempting to create character for user: talib2@mail.ru
2024-12-24T08:03:53.666Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:03:53.669Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id from characters c1_0 where c1_0.email=? fetch first ? rows only
2024-12-24T08:03:53.674Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : insert into characters (banned,character_class,character_name,created_at,email,experience,health,level,location_id,mana,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?)
2024-12-24T08:03:53.679Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.CharacterService         : Character created successfully for user: talib2@mail.ru
2024-12-24T08:03:53.688Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : update users set created_at=?,email=?,have_character=?,password=? where id=?
2024-12-24T08:03:53.790Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:03:53.797Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Character(id=7, email=talib2@mail.ru, characterName=talib433, characterClass=PERUN, level=1, health= (truncated)...]
2024-12-24T08:03:53.798Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:03:56.948Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#checkUserCharacter(String)
2024-12-24T08:03:56.949Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#checkUserCharacter(String)
2024-12-24T08:03:56.949Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#checkUserCharacter(String)
2024-12-24T08:03:56.950Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/character/check-character", parameters={}
2024-12-24T08:03:56.950Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.CharacterController#checkUserCharacter(String)
2024-12-24T08:03:56.953Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:03:56.955Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:03:56.957Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:03:56.958Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{id=7, email=talib2@mail.ru, characterClass=PERUN, level=1, health=100, mana=50, experience=0, locat (truncated)...]
2024-12-24T08:03:56.960Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:04:10.535Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:04:10.536Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:04:10.536Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:04:10.536Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:04:10.538Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T08:04:10.538Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T08:04:10.539Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:04:10.745Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:04:10.746Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:04:10.747Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:04:10.747Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:04:10.749Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:04:11.584Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.584Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.584Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.585Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:04:11.585Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.585Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:04:11.587Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:04:11.588Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:04:11.589Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=cc91855e-6f08-bd5a-73c6-5e283c37051e, uri=ws://localhost:8081/chat]
2024-12-24T08:04:11.592Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:04:11.593Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:04:11.597Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:04:11.600Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketHandler         : New WebSocket connection: cc91855e-6f08-bd5a-73c6-5e283c37051e
2024-12-24T08:04:11.601Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=cc91855e-6f08-bd5a-73c6-5e283c37051e, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:04:11.602Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=cc91855e-6f08-bd5a-73c6-5e283c37051e, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:04:11.602Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=cc91855e-6f08-bd5a-73c6-5e283c37051e, uri=ws://localhost:8081/chat]
2024-12-24T08:04:11.603Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketHandler         : WebSocket connection closed: cc91855e-6f08-bd5a-73c6-5e283c37051e, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:04:11.621Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.621Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.621Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.622Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:04:11.622Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.622Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:04:11.624Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:04:11.625Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:04:11.625Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=b5ba9b2b-eb2f-5849-d9e3-65a6f8406677, uri=ws://localhost:8081/chat]
2024-12-24T08:04:11.628Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:04:11.629Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:04:11.633Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:04:11.636Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketHandler         : New WebSocket connection: b5ba9b2b-eb2f-5849-d9e3-65a6f8406677
2024-12-24T08:04:11.637Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=b5ba9b2b-eb2f-5849-d9e3-65a6f8406677, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:04:11.638Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=b5ba9b2b-eb2f-5849-d9e3-65a6f8406677, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:04:11.638Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=b5ba9b2b-eb2f-5849-d9e3-65a6f8406677, uri=ws://localhost:8081/chat]
2024-12-24T08:04:11.639Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketHandler         : WebSocket connection closed: b5ba9b2b-eb2f-5849-d9e3-65a6f8406677, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:04:11.662Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.663Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.663Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.663Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:04:11.664Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.664Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:04:11.666Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:04:11.666Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:04:11.667Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=21d4f0d1-ed66-d4ab-c447-a7a4a30b69f8, uri=ws://localhost:8081/chat]
2024-12-24T08:04:11.670Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:04:11.672Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:04:11.675Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:04:11.680Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketHandler         : New WebSocket connection: 21d4f0d1-ed66-d4ab-c447-a7a4a30b69f8
2024-12-24T08:04:11.681Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=21d4f0d1-ed66-d4ab-c447-a7a4a30b69f8, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:04:11.681Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=21d4f0d1-ed66-d4ab-c447-a7a4a30b69f8, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:04:11.682Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=21d4f0d1-ed66-d4ab-c447-a7a4a30b69f8, uri=ws://localhost:8081/chat]
2024-12-24T08:04:11.683Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 21d4f0d1-ed66-d4ab-c447-a7a4a30b69f8, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:04:11.689Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.690Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.690Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.690Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:04:11.691Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.691Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:04:11.692Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:04:11.694Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:04:11.695Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=c23c73f5-96f3-3a70-6421-6af8840df20c, uri=ws://localhost:8081/chat]
2024-12-24T08:04:11.698Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:04:11.700Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:04:11.703Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:04:11.707Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : New WebSocket connection: c23c73f5-96f3-3a70-6421-6af8840df20c
2024-12-24T08:04:11.708Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=c23c73f5-96f3-3a70-6421-6af8840df20c, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:04:11.709Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=c23c73f5-96f3-3a70-6421-6af8840df20c, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:04:11.710Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=c23c73f5-96f3-3a70-6421-6af8840df20c, uri=ws://localhost:8081/chat]
2024-12-24T08:04:11.711Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : WebSocket connection closed: c23c73f5-96f3-3a70-6421-6af8840df20c, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:04:11.720Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.721Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.721Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.722Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:04:11.722Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.722Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:04:11.723Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:04:11.724Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:04:11.725Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=66be48d0-ac98-941c-0fdd-57cb6370a67f, uri=ws://localhost:8081/chat]
2024-12-24T08:04:11.728Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:04:11.729Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:04:11.733Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:04:11.736Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketHandler         : New WebSocket connection: 66be48d0-ac98-941c-0fdd-57cb6370a67f
2024-12-24T08:04:11.737Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=66be48d0-ac98-941c-0fdd-57cb6370a67f, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:04:11.738Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=66be48d0-ac98-941c-0fdd-57cb6370a67f, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:04:11.738Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=66be48d0-ac98-941c-0fdd-57cb6370a67f, uri=ws://localhost:8081/chat]
2024-12-24T08:04:11.738Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 66be48d0-ac98-941c-0fdd-57cb6370a67f, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:04:11.751Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.751Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.752Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.752Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:04:11.752Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:04:11.753Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:04:11.754Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:04:11.755Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:04:11.756Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=d3967dc5-e2cf-ce80-300b-1ffb709fb70e, uri=ws://localhost:8081/chat]
2024-12-24T08:04:11.759Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:04:11.761Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:04:11.763Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:04:11.767Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketHandler         : New WebSocket connection: d3967dc5-e2cf-ce80-300b-1ffb709fb70e
2024-12-24T08:04:11.767Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=d3967dc5-e2cf-ce80-300b-1ffb709fb70e, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:04:11.768Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=d3967dc5-e2cf-ce80-300b-1ffb709fb70e, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:04:11.768Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=d3967dc5-e2cf-ce80-300b-1ffb709fb70e, uri=ws://localhost:8081/chat]
2024-12-24T08:04:11.769Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketHandler         : WebSocket connection closed: d3967dc5-e2cf-ce80-300b-1ffb709fb70e, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:08:48.330Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:08:48.331Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:08:48.331Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:08:48.332Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:08:48.333Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T08:08:48.334Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-9] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T08:08:48.335Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:08:48.541Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-9] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:08:48.541Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:08:48.542Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:08:48.542Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:08:48.543Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:08:49.391Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.391Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.391Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.392Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:08:49.392Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.392Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:08:49.393Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:08:49.394Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:08:49.395Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=dab95a23-5de4-4337-7f42-e904644f3f36, uri=ws://localhost:8081/chat]
2024-12-24T08:08:49.398Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:08:49.399Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:08:49.402Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:08:49.406Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.handlers.WebSocketHandler         : New WebSocket connection: dab95a23-5de4-4337-7f42-e904644f3f36
2024-12-24T08:08:49.407Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=dab95a23-5de4-4337-7f42-e904644f3f36, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:08:49.408Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=dab95a23-5de4-4337-7f42-e904644f3f36, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:08:49.408Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=dab95a23-5de4-4337-7f42-e904644f3f36, uri=ws://localhost:8081/chat]
2024-12-24T08:08:49.409Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.handlers.WebSocketHandler         : WebSocket connection closed: dab95a23-5de4-4337-7f42-e904644f3f36, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:08:49.419Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.419Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.420Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.420Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:08:49.420Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.420Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:08:49.421Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:08:49.422Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:08:49.423Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=a6a015b5-73b1-4b9a-7271-1074e66491e9, uri=ws://localhost:8081/chat]
2024-12-24T08:08:49.426Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:08:49.427Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:08:49.431Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:08:49.434Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketHandler         : New WebSocket connection: a6a015b5-73b1-4b9a-7271-1074e66491e9
2024-12-24T08:08:49.434Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=a6a015b5-73b1-4b9a-7271-1074e66491e9, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:08:49.435Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=a6a015b5-73b1-4b9a-7271-1074e66491e9, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:08:49.435Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=a6a015b5-73b1-4b9a-7271-1074e66491e9, uri=ws://localhost:8081/chat]
2024-12-24T08:08:49.436Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketHandler         : WebSocket connection closed: a6a015b5-73b1-4b9a-7271-1074e66491e9, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:08:49.450Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.451Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.451Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.452Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:08:49.452Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.452Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:08:49.453Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:08:49.454Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:08:49.455Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=543add5b-b509-53af-f252-53712f5d5b5b, uri=ws://localhost:8081/chat]
2024-12-24T08:08:49.457Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:08:49.459Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:08:49.462Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:08:49.465Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketHandler         : New WebSocket connection: 543add5b-b509-53af-f252-53712f5d5b5b
2024-12-24T08:08:49.466Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=543add5b-b509-53af-f252-53712f5d5b5b, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:08:49.467Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=543add5b-b509-53af-f252-53712f5d5b5b, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:08:49.467Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=543add5b-b509-53af-f252-53712f5d5b5b, uri=ws://localhost:8081/chat]
2024-12-24T08:08:49.468Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 543add5b-b509-53af-f252-53712f5d5b5b, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:08:49.481Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.482Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.482Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.483Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:08:49.483Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.483Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:08:49.484Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:08:49.485Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:08:49.486Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=c8d16c2b-2f0a-5403-52fa-8f77f01cbf27, uri=ws://localhost:8081/chat]
2024-12-24T08:08:49.489Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:08:49.490Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:08:49.494Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:08:49.498Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketHandler         : New WebSocket connection: c8d16c2b-2f0a-5403-52fa-8f77f01cbf27
2024-12-24T08:08:49.499Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=c8d16c2b-2f0a-5403-52fa-8f77f01cbf27, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:08:49.500Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=c8d16c2b-2f0a-5403-52fa-8f77f01cbf27, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:08:49.500Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=c8d16c2b-2f0a-5403-52fa-8f77f01cbf27, uri=ws://localhost:8081/chat]
2024-12-24T08:08:49.501Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketHandler         : WebSocket connection closed: c8d16c2b-2f0a-5403-52fa-8f77f01cbf27, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:08:49.510Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.510Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.511Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.511Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:08:49.511Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.512Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:08:49.513Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:08:49.514Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:08:49.515Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=befc86df-eddd-69e1-7caa-06087249119e, uri=ws://localhost:8081/chat]
2024-12-24T08:08:49.518Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:08:49.519Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:08:49.522Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:08:49.526Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : New WebSocket connection: befc86df-eddd-69e1-7caa-06087249119e
2024-12-24T08:08:49.526Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=befc86df-eddd-69e1-7caa-06087249119e, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:08:49.527Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=befc86df-eddd-69e1-7caa-06087249119e, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:08:49.527Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=befc86df-eddd-69e1-7caa-06087249119e, uri=ws://localhost:8081/chat]
2024-12-24T08:08:49.528Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : WebSocket connection closed: befc86df-eddd-69e1-7caa-06087249119e, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:08:49.544Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.545Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.545Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.545Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:08:49.546Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:08:49.546Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:08:49.547Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:08:49.548Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:08:49.549Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=1fe847ab-c1b5-debe-6d6c-9699ff8fc157, uri=ws://localhost:8081/chat]
2024-12-24T08:08:49.552Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:08:49.553Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:08:49.556Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:08:49.559Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketHandler         : New WebSocket connection: 1fe847ab-c1b5-debe-6d6c-9699ff8fc157
2024-12-24T08:08:49.560Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=1fe847ab-c1b5-debe-6d6c-9699ff8fc157, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:08:49.560Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=1fe847ab-c1b5-debe-6d6c-9699ff8fc157, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:08:49.561Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=1fe847ab-c1b5-debe-6d6c-9699ff8fc157, uri=ws://localhost:8081/chat]
2024-12-24T08:08:49.561Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 1fe847ab-c1b5-debe-6d6c-9699ff8fc157, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:18:42.702Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:18:42.703Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:18:42.704Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:18:42.704Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:18:42.705Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib@mail.ru, password=12345678A)]
2024-12-24T08:18:42.705Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.controllers.AuthController        : Attempting to login user: talib@mail.ru
2024-12-24T08:18:42.707Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:18:42.912Z  WARN 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.services.UserService              : Invalid password for user: talib@mail.ru
2024-12-24T08:18:42.914Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler jugger.exceptions.GlobalExceptionHandler#handleValidationException(ValidationException)
2024-12-24T08:18:42.915Z  WARN 1 --- [http-nio-0.0.0.0-8080-exec-7] j.exceptions.GlobalExceptionHandler      : Validation exception: Invalid credentials
2024-12-24T08:18:42.916Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:18:42.916Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse(status=400, message=Validation error, errors=[Invalid credentials])]
2024-12-24T08:18:42.917Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [javax.validation.ValidationException: Invalid credentials]
2024-12-24T08:18:42.917Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2024-12-24T08:18:48.694Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:18:48.694Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:18:48.695Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:18:48.695Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:18:48.696Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T08:18:48.696Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T08:18:48.698Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:18:48.905Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:18:48.905Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:18:48.905Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:18:48.906Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:18:48.907Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:19:52.092Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:19:52.093Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:19:52.093Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:19:52.094Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:19:52.095Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T08:19:52.095Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T08:19:52.098Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:19:52.305Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:19:52.305Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:19:52.306Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:19:52.306Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:19:52.307Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:21:13.371Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:21:13.372Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:21:13.372Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:21:13.373Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:21:13.374Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T08:21:13.374Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T08:21:13.375Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:21:13.582Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:21:13.582Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:21:13.583Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:21:13.584Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:21:13.585Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:22:13.234Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:22:13.234Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:22:13.235Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:22:13.235Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:22:13.235Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:22:13.235Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:22:13.237Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:22:13.237Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:22:13.238Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=95955fb2-43f8-ba48-e218-88bf807f7531, uri=ws://localhost:8081/chat]
2024-12-24T08:22:13.241Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:22:13.244Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:22:13.247Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:22:13.251Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketHandler         : New WebSocket connection: 95955fb2-43f8-ba48-e218-88bf807f7531
2024-12-24T08:22:34.049Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=95955fb2-43f8-ba48-e218-88bf807f7531, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1000, reason=null]
2024-12-24T08:22:34.049Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=95955fb2-43f8-ba48-e218-88bf807f7531, uri=ws://localhost:8081/chat]
2024-12-24T08:22:34.050Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 95955fb2-43f8-ba48-e218-88bf807f7531, status: CloseStatus[code=1000, reason=null]
2024-12-24T08:22:35.125Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:22:35.125Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:22:35.125Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:22:35.126Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:22:35.126Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:22:35.126Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:22:35.127Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-9] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:22:35.128Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:22:35.129Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=61de3914-19ee-c889-53c9-936c67d8c470, uri=ws://localhost:8081/chat]
2024-12-24T08:22:35.132Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:22:35.134Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:22:35.137Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:22:35.139Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-9] jugger.handlers.WebSocketHandler         : New WebSocket connection: 61de3914-19ee-c889-53c9-936c67d8c470
2024-12-24T08:23:07.001Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:23:07.002Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:23:07.002Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:23:07.003Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:23:07.004Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T08:23:07.005Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T08:23:07.006Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:23:07.212Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:23:07.212Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:23:07.212Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:23:07.213Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:23:07.214Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:27:51.448Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:27:51.449Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:27:51.450Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:27:51.450Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:27:51.451Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T08:27:51.452Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T08:27:51.453Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:27:51.672Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:27:51.672Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:27:51.673Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:27:51.674Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:27:51.675Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:27:52.525Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:27:52.525Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:27:52.526Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:27:52.526Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:27:52.526Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:27:52.526Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:27:52.527Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:27:52.528Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:27:52.529Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=6b4f238b-786e-7005-20e4-1741ce7690de, uri=ws://localhost:8081/chat]
2024-12-24T08:27:52.531Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:27:52.532Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:27:52.535Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:27:52.538Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : New WebSocket connection: 6b4f238b-786e-7005-20e4-1741ce7690de
2024-12-24T08:28:06.009Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=6b4f238b-786e-7005-20e4-1741ce7690de, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:28:06.010Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=6b4f238b-786e-7005-20e4-1741ce7690de, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:28:06.010Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=6b4f238b-786e-7005-20e4-1741ce7690de, uri=ws://localhost:8081/chat]
2024-12-24T08:28:06.011Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 6b4f238b-786e-7005-20e4-1741ce7690de, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:45:54.623Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:45:54.624Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:45:54.625Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:45:54.625Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:45:54.626Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T08:45:54.626Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T08:45:54.627Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:45:54.834Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:45:54.834Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:45:54.835Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:45:54.835Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:45:54.837Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:45:55.694Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:45:55.694Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:45:55.695Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:45:55.695Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:45:55.695Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:45:55.695Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:45:55.696Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-9] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:45:55.697Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:45:55.698Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=9a32d7ca-ea4f-0208-0a38-386fe03adbc1, uri=ws://localhost:8081/chat]
2024-12-24T08:45:55.700Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:45:55.701Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:45:55.703Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:45:55.707Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-9] jugger.handlers.WebSocketHandler         : New WebSocket connection: 9a32d7ca-ea4f-0208-0a38-386fe03adbc1
2024-12-24T08:45:59.665Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=9a32d7ca-ea4f-0208-0a38-386fe03adbc1, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:45:59.666Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=9a32d7ca-ea4f-0208-0a38-386fe03adbc1, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:45:59.667Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=9a32d7ca-ea4f-0208-0a38-386fe03adbc1, uri=ws://localhost:8081/chat]
2024-12-24T08:45:59.668Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 9a32d7ca-ea4f-0208-0a38-386fe03adbc1, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:47:35.507Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:47:35.508Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:47:35.508Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:47:35.509Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:47:35.509Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T08:47:35.510Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T08:47:35.511Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:47:35.720Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:47:35.720Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:47:35.721Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:47:35.721Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:47:35.723Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:47:36.564Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:47:36.564Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:47:36.565Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:47:36.565Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:47:36.565Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:47:36.565Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:47:36.566Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:47:36.567Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:47:36.568Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=6659d423-51a1-4378-e4da-0e1077939e73, uri=ws://localhost:8081/chat]
2024-12-24T08:47:36.572Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:47:36.573Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:47:36.577Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:47:36.580Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketHandler         : New WebSocket connection: 6659d423-51a1-4378-e4da-0e1077939e73
2024-12-24T08:48:15.381Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=6659d423-51a1-4378-e4da-0e1077939e73, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:48:15.382Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=6659d423-51a1-4378-e4da-0e1077939e73, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:48:15.382Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=6659d423-51a1-4378-e4da-0e1077939e73, uri=ws://localhost:8081/chat]
2024-12-24T08:48:15.383Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 6659d423-51a1-4378-e4da-0e1077939e73, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:48:25.765Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:48:25.766Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:48:25.766Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:48:25.766Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:48:25.767Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T08:48:25.767Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T08:48:25.769Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:48:25.974Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:48:25.974Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:48:25.975Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:48:25.975Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:48:25.976Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:48:26.824Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:48:26.824Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:48:26.824Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:48:26.825Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:48:26.825Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:48:26.825Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:48:26.826Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:48:26.826Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:48:26.827Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=aa7c9b70-2bef-8414-89bf-7fe1078f8a1f, uri=ws://localhost:8081/chat]
2024-12-24T08:48:26.830Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:48:26.831Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:48:26.833Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:48:26.835Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketHandler         : New WebSocket connection: aa7c9b70-2bef-8414-89bf-7fe1078f8a1f
2024-12-24T08:48:31.631Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-9] jugger.handlers.WebSocketHandler         : Message processing error: No token provided

java.lang.IllegalArgumentException: No token provided
	at jugger.handlers.WebSocketHandler.extractToken(WebSocketHandler.kt:131) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.handleTextMessage(WebSocketHandler.kt:51) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:51:11.748Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=aa7c9b70-2bef-8414-89bf-7fe1078f8a1f, uri=ws://localhost:8081/chat]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:51:11.749Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=aa7c9b70-2bef-8414-89bf-7fe1078f8a1f, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1006, reason=null]
2024-12-24T08:51:11.749Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=aa7c9b70-2bef-8414-89bf-7fe1078f8a1f, uri=ws://localhost:8081/chat]
2024-12-24T08:51:11.750Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.handlers.WebSocketHandler         : WebSocket connection closed: aa7c9b70-2bef-8414-89bf-7fe1078f8a1f, status: CloseStatus[code=1006, reason=null]
2024-12-24T08:53:49.625Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:53:49.626Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:53:49.626Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:53:49.627Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:53:49.627Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T08:53:49.628Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T08:53:49.629Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:53:49.837Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:53:49.837Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:53:49.838Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:53:49.838Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:53:49.839Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:53:50.680Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:53:50.681Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:53:50.681Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:53:50.682Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:53:50.682Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:53:50.682Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-24T08:54:36.569Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:54:36.570Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:54:36.571Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T08:54:36.571Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T08:54:36.572Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T08:54:36.572Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T08:54:36.573Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T08:54:36.779Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T08:54:36.779Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T08:54:36.780Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T08:54:36.780Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T08:54:36.781Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T08:54:37.629Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:54:37.630Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:54:37.630Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:54:37.630Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:54:37.631Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:54:37.631Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:54:37.632Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:54:37.633Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:54:37.634Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=be45d300-1719-92a7-1037-db97b9963bba, uri=ws://localhost:8081/chat]
2024-12-24T08:54:37.637Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:54:37.639Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:54:37.643Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:54:37.647Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketHandler         : New WebSocket connection: be45d300-1719-92a7-1037-db97b9963bba
2024-12-24T08:54:43.595Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-9] jugger.handlers.WebSocketHandler         : Message processing error: No token provided

java.lang.IllegalArgumentException: No token provided
	at jugger.handlers.WebSocketHandler.extractToken(WebSocketHandler.kt:131) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.handleTextMessage(WebSocketHandler.kt:51) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:58:56.104Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.handlers.WebSocketHandler         : Message processing error: No token provided

java.lang.IllegalArgumentException: No token provided
	at jugger.handlers.WebSocketHandler.extractToken(WebSocketHandler.kt:131) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.handleTextMessage(WebSocketHandler.kt:51) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:59:01.621Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.handlers.WebSocketHandler         : Message processing error: No token provided

java.lang.IllegalArgumentException: No token provided
	at jugger.handlers.WebSocketHandler.extractToken(WebSocketHandler.kt:131) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.handleTextMessage(WebSocketHandler.kt:51) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:59:08.649Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketHandler         : Message processing error: No token provided

java.lang.IllegalArgumentException: No token provided
	at jugger.handlers.WebSocketHandler.extractToken(WebSocketHandler.kt:131) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.handleTextMessage(WebSocketHandler.kt:51) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:59:12.465Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=61de3914-19ee-c889-53c9-936c67d8c470, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1000, reason=null]
2024-12-24T08:59:12.465Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=61de3914-19ee-c889-53c9-936c67d8c470, uri=ws://localhost:8081/chat]
2024-12-24T08:59:12.466Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 61de3914-19ee-c889-53c9-936c67d8c470, status: CloseStatus[code=1000, reason=null]
2024-12-24T08:59:12.893Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:59:12.894Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:59:12.894Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:59:12.894Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/chat", parameters={}
2024-12-24T08:59:12.895Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@43b5021c
2024-12-24T08:59:12.895Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T08:59:12.896Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T08:59:12.897Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T08:59:12.899Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=c5547b71-977b-8b9b-3ed1-8af8da376e31, uri=ws://localhost:8081/chat]
2024-12-24T08:59:12.902Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T08:59:12.904Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T08:59:12.909Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T08:59:12.914Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketHandler         : New WebSocket connection: c5547b71-977b-8b9b-3ed1-8af8da376e31
2024-12-24T08:59:15.694Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : Message processing error: No token provided

java.lang.IllegalArgumentException: No token provided
	at jugger.handlers.WebSocketHandler.extractToken(WebSocketHandler.kt:131) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.handleTextMessage(WebSocketHandler.kt:51) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T08:59:37.442Z DEBUG 1 --- [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=c5547b71-977b-8b9b-3ed1-8af8da376e31, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1001, reason=The web application is stopping]
2024-12-24T08:59:37.442Z DEBUG 1 --- [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=c5547b71-977b-8b9b-3ed1-8af8da376e31, uri=ws://localhost:8081/chat]
2024-12-24T08:59:37.443Z  INFO 1 --- [SpringApplicationShutdownHook] jugger.handlers.WebSocketHandler         : WebSocket connection closed: c5547b71-977b-8b9b-3ed1-8af8da376e31, status: CloseStatus[code=1001, reason=The web application is stopping]
2024-12-24T08:59:37.444Z DEBUG 1 --- [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=be45d300-1719-92a7-1037-db97b9963bba, uri=ws://localhost:8081/chat] closed with CloseStatus[code=1001, reason=The web application is stopping]
2024-12-24T08:59:37.444Z DEBUG 1 --- [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=be45d300-1719-92a7-1037-db97b9963bba, uri=ws://localhost:8081/chat]
2024-12-24T08:59:37.444Z  INFO 1 --- [SpringApplicationShutdownHook] jugger.handlers.WebSocketHandler         : WebSocket connection closed: be45d300-1719-92a7-1037-db97b9963bba, status: CloseStatus[code=1001, reason=The web application is stopping]
2024-12-24T08:59:37.453Z  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-24T08:59:37.456Z  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-24T08:59:37.459Z  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-24T09:27:39.298Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : Starting JugglerApplicationKt v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/app.jar started by root in /app)
2024-12-24T09:27:39.301Z DEBUG 1 --- [main] jugger.JugglerApplicationKt              : Running with Spring Boot v3.1.5, Spring v6.0.13
2024-12-24T09:27:39.303Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : No active profile set, falling back to 1 default profile: "default"
2024-12-24T09:27:40.048Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-24T09:27:40.098Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 3 JPA repository interfaces.
2024-12-24T09:27:40.753Z  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6705d26d-0b7e-38aa-aa1c-ec068849b258
2024-12-24T09:27:40.845Z  INFO 1 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jugger.models.AuthClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-24T09:27:41.271Z  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-12-24T09:27:41.290Z  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-24T09:27:41.291Z  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-12-24T09:27:41.441Z  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-24T09:27:41.442Z  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2049 ms
2024-12-24T09:27:41.519Z DEBUG 1 --- [main] j.c.SecurityConfig$jwtTokenFilter$1      : Filter 'jwtTokenFilter' configured for use
2024-12-24T09:27:41.697Z  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-24T09:27:41.782Z  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.13.Final
2024-12-24T09:27:41.789Z  INFO 1 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-12-24T09:27:42.069Z  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-24T09:27:42.094Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-24T09:27:42.213Z  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3605c4d3
2024-12-24T09:27:42.217Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-24T09:27:42.258Z  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-24T09:27:42.857Z  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-24T09:27:42.930Z  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-24T09:27:43.796Z  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-24T09:27:43.824Z  WARN 1 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 93a26496-d904-479e-b4ac-9370a2848d67

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-24T09:27:43.982Z DEBUG 1 --- [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/chat] in 'webSocketHandlerMapping'
2024-12-24T09:27:44.047Z DEBUG 1 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 6 mappings in 'requestMappingHandlerMapping'
2024-12-24T09:27:44.082Z DEBUG 1 --- [main] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2024-12-24T09:27:44.120Z  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3252747e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b4b96a4, org.springframework.security.web.context.SecurityContextHolderFilter@3b95a6db, org.springframework.security.web.header.HeaderWriterFilter@fb49fdf, org.springframework.web.filter.CorsFilter@2dd8ff1d, org.springframework.security.web.authentication.logout.LogoutFilter@5f36c8e3, jugger.config.SecurityConfig$jwtTokenFilter$1@5217f3d0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c9a6717, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d091cad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17e9bc9e, org.springframework.security.web.session.SessionManagementFilter@12a2585b, org.springframework.security.web.access.ExceptionTranslationFilter@7f4701b1, org.springframework.security.web.access.intercept.AuthorizationFilter@3234474]
2024-12-24T09:27:44.259Z DEBUG 1 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-24T09:27:44.312Z DEBUG 1 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-24T09:27:44.545Z  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-12-24T09:27:44.563Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : Started JugglerApplicationKt in 5.872 seconds (process running for 6.569)
2024-12-24T09:27:46.137Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-24T09:27:46.137Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-24T09:27:46.138Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-24T09:27:46.138Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-24T09:27:46.139Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-24T09:27:46.140Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@427a12b6
2024-12-24T09:27:46.141Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2582b0ef
2024-12-24T09:27:46.142Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-24T09:27:46.142Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2024-12-24T09:27:46.318Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T09:27:46.320Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T09:27:46.322Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T09:27:46.325Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T09:27:46.328Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T09:27:46.342Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T09:27:46.345Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T09:27:46.370Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T09:27:46.384Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=09bf0e27-efb1-d33d-ead3-a4f0e709adab, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T09:27:46.472Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T09:27:46.483Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T09:27:46.502Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T09:27:46.538Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.handlers.WebSocketHandler         : New WebSocket connection: 09bf0e27-efb1-d33d-ead3-a4f0e709adab
2024-12-24T09:27:49.894Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T09:27:49.896Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T09:27:49.901Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=?, timestamp=1735032469898)
2024-12-24T09:27:49.918Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T09:27:49.927Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Message saved successfully: 5
2024-12-24T09:27:53.845Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T09:27:53.847Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T09:27:53.850Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=?, timestamp=1735032473850)
2024-12-24T09:27:53.851Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T09:27:53.853Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.services.ChatService              : Message saved successfully: 6
2024-12-24T09:32:18.987Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T09:32:18.989Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T09:32:18.990Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T09:32:18.990Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T09:32:19.046Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T09:32:19.053Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T09:32:19.055Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T09:32:19.289Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T09:32:19.289Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T09:32:19.325Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T09:32:19.328Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T09:32:19.338Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T09:32:20.179Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T09:32:20.180Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T09:32:20.181Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T09:32:20.181Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T09:32:20.182Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T09:32:20.182Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T09:32:20.185Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T09:32:20.187Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T09:32:20.188Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=a526bc63-d1cb-2c0e-2e88-aaa32b9c678e, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T09:32:20.193Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T09:32:20.196Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T09:32:20.200Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T09:32:20.205Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketHandler         : New WebSocket connection: a526bc63-d1cb-2c0e-2e88-aaa32b9c678e
2024-12-24T09:32:24.197Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T09:32:24.199Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T09:32:24.200Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=ghbd, timestamp=1735032744200)
2024-12-24T09:32:24.201Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T09:32:24.202Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.ChatService              : Message saved successfully: 7
2024-12-24T09:32:30.115Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T09:32:30.119Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T09:32:30.121Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=sdfsf, timestamp=1735032750121)
2024-12-24T09:32:30.122Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T09:32:30.123Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.ChatService              : Message saved successfully: 8
2024-12-24T09:32:38.325Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T09:32:38.327Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T09:32:38.329Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735032758329)
2024-12-24T09:32:38.331Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T09:32:38.332Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Message saved successfully: 9
2024-12-24T09:33:24.773Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T09:33:24.775Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T09:33:24.777Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735032804777)
2024-12-24T09:33:24.777Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T09:33:24.778Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Message saved successfully: 10
2024-12-24T09:33:28.213Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T09:33:28.214Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T09:33:28.215Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735032808215)
2024-12-24T09:33:28.216Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T09:33:28.217Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.ChatService              : Message saved successfully: 11
2024-12-24T10:47:11.732Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=a526bc63-d1cb-2c0e-2e88-aaa32b9c678e, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T10:47:11.740Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=a526bc63-d1cb-2c0e-2e88-aaa32b9c678e, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw] closed with CloseStatus[code=1006, reason=null]
2024-12-24T10:47:11.740Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=a526bc63-d1cb-2c0e-2e88-aaa32b9c678e, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T10:47:11.742Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketHandler         : WebSocket connection closed: a526bc63-d1cb-2c0e-2e88-aaa32b9c678e, status: CloseStatus[code=1006, reason=null]
2024-12-24T10:48:17.281Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:48:17.281Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:48:17.282Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T10:48:17.282Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:48:17.283Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T10:48:17.284Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T10:48:17.285Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T10:48:17.492Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T10:48:17.493Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T10:48:17.494Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T10:48:17.495Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T10:48:17.496Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T10:48:18.341Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:48:18.342Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:48:18.342Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:48:18.343Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T10:48:18.343Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:48:18.343Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T10:48:18.345Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T10:48:18.346Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T10:48:18.347Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=449467a9-f9a3-109d-02a0-b8b05ffae3e2, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T10:48:18.350Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T10:48:18.352Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T10:48:18.355Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T10:48:18.361Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.handlers.WebSocketHandler         : New WebSocket connection: 449467a9-f9a3-109d-02a0-b8b05ffae3e2
2024-12-24T10:48:23.199Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T10:48:23.201Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T10:48:23.202Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735037303202)
2024-12-24T10:48:23.203Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T10:48:23.204Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Message saved successfully: 12
2024-12-24T10:48:27.218Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T10:48:27.220Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T10:48:27.221Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735037307221)
2024-12-24T10:48:27.222Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T10:48:27.223Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Message saved successfully: 13
2024-12-24T10:48:38.535Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=449467a9-f9a3-109d-02a0-b8b05ffae3e2, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T10:48:38.536Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=449467a9-f9a3-109d-02a0-b8b05ffae3e2, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw] closed with CloseStatus[code=1006, reason=null]
2024-12-24T10:48:38.536Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=449467a9-f9a3-109d-02a0-b8b05ffae3e2, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T10:48:38.537Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 449467a9-f9a3-109d-02a0-b8b05ffae3e2, status: CloseStatus[code=1006, reason=null]
2024-12-24T10:48:48.193Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:48:48.194Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:48:48.194Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T10:48:48.195Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:48:48.196Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T10:48:48.196Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T10:48:48.198Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T10:48:48.404Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T10:48:48.405Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T10:48:48.406Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T10:48:48.406Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T10:48:48.407Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T10:48:49.256Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:48:49.257Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:48:49.257Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:48:49.257Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T10:48:49.258Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:48:49.258Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T10:48:49.259Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T10:48:49.261Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T10:48:49.262Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=cc0fc30b-9038-f836-02de-08ef52696709, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T10:48:49.265Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T10:48:49.266Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T10:48:49.270Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T10:48:49.276Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.handlers.WebSocketHandler         : New WebSocket connection: cc0fc30b-9038-f836-02de-08ef52696709
2024-12-24T10:48:51.957Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=cc0fc30b-9038-f836-02de-08ef52696709, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T10:48:51.958Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=cc0fc30b-9038-f836-02de-08ef52696709, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw] closed with CloseStatus[code=1006, reason=null]
2024-12-24T10:48:51.959Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=cc0fc30b-9038-f836-02de-08ef52696709, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T10:48:51.960Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-9] jugger.handlers.WebSocketHandler         : WebSocket connection closed: cc0fc30b-9038-f836-02de-08ef52696709, status: CloseStatus[code=1006, reason=null]
2024-12-24T10:56:03.372Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:56:03.373Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:56:03.373Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T10:56:03.374Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:56:03.374Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T10:56:03.375Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T10:56:03.376Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T10:56:03.583Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T10:56:03.583Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T10:56:03.584Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T10:56:03.584Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T10:56:03.586Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T10:56:04.443Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:56:04.443Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:56:04.444Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:56:04.444Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T10:56:04.445Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:56:04.445Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T10:56:04.448Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T10:56:04.449Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T10:56:04.450Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=2efe3ae6-9a5a-400b-7d94-bf01124fddfb, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T10:56:04.453Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T10:56:04.455Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T10:56:04.459Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T10:56:04.465Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketHandler         : New WebSocket connection: 2efe3ae6-9a5a-400b-7d94-bf01124fddfb
2024-12-24T10:56:07.169Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T10:56:07.171Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T10:56:07.172Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735037767172)
2024-12-24T10:56:07.172Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T10:56:07.173Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Message saved successfully: 14
2024-12-24T10:57:14.375Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=2efe3ae6-9a5a-400b-7d94-bf01124fddfb, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T10:57:14.376Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=2efe3ae6-9a5a-400b-7d94-bf01124fddfb, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw] closed with CloseStatus[code=1006, reason=null]
2024-12-24T10:57:14.377Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=2efe3ae6-9a5a-400b-7d94-bf01124fddfb, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T10:57:14.377Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 2efe3ae6-9a5a-400b-7d94-bf01124fddfb, status: CloseStatus[code=1006, reason=null]
2024-12-24T10:57:23.895Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:57:23.896Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:57:23.896Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T10:57:23.897Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:57:23.897Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T10:57:23.898Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T10:57:23.899Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T10:57:24.106Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T10:57:24.107Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T10:57:24.107Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T10:57:24.108Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T10:57:24.109Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T10:57:24.950Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:57:24.951Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:57:24.952Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:57:24.952Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T10:57:24.952Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:57:24.953Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T10:57:24.954Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T10:57:24.955Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T10:57:24.956Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=c9bfa501-8cf6-6dbc-7c84-a35ea2bf2e6c, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T10:57:24.959Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T10:57:24.961Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T10:57:24.964Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T10:57:24.971Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.handlers.WebSocketHandler         : New WebSocket connection: c9bfa501-8cf6-6dbc-7c84-a35ea2bf2e6c
2024-12-24T10:57:27.506Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T10:57:27.507Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T10:57:27.508Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735037847508)
2024-12-24T10:57:27.509Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T10:57:27.510Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.ChatService              : Message saved successfully: 15
2024-12-24T10:57:29.296Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T10:57:29.297Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T10:57:29.298Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735037849298)
2024-12-24T10:57:29.299Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T10:57:29.300Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Message saved successfully: 16
2024-12-24T10:57:35.867Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=c9bfa501-8cf6-6dbc-7c84-a35ea2bf2e6c, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T10:57:35.868Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=c9bfa501-8cf6-6dbc-7c84-a35ea2bf2e6c, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw] closed with CloseStatus[code=1006, reason=null]
2024-12-24T10:57:35.868Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=c9bfa501-8cf6-6dbc-7c84-a35ea2bf2e6c, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T10:57:35.869Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketHandler         : WebSocket connection closed: c9bfa501-8cf6-6dbc-7c84-a35ea2bf2e6c, status: CloseStatus[code=1006, reason=null]
2024-12-24T10:58:49.477Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:58:49.477Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:58:49.478Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T10:58:49.478Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:58:49.479Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T10:58:49.479Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T10:58:49.480Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T10:58:49.686Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T10:58:49.687Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T10:58:49.687Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T10:58:49.688Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T10:58:49.689Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T10:58:50.534Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:58:50.535Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:58:50.536Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:58:50.536Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T10:58:50.536Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:58:50.536Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T10:58:50.537Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T10:58:50.538Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T10:58:50.539Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=1051e4f5-21d2-1591-0229-c62ceaa03920, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T10:58:50.541Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T10:58:50.543Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T10:58:50.545Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T10:58:50.552Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketHandler         : New WebSocket connection: 1051e4f5-21d2-1591-0229-c62ceaa03920
2024-12-24T10:58:53.383Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T10:58:53.384Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T10:58:53.385Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735037933385)
2024-12-24T10:58:53.386Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T10:58:53.387Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.ChatService              : Message saved successfully: 17
2024-12-24T10:59:32.370Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=1051e4f5-21d2-1591-0229-c62ceaa03920, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T10:59:32.372Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=1051e4f5-21d2-1591-0229-c62ceaa03920, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw] closed with CloseStatus[code=1006, reason=null]
2024-12-24T10:59:32.372Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=1051e4f5-21d2-1591-0229-c62ceaa03920, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T10:59:32.373Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-9] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 1051e4f5-21d2-1591-0229-c62ceaa03920, status: CloseStatus[code=1006, reason=null]
2024-12-24T10:59:46.135Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:59:46.136Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:59:46.136Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T10:59:46.137Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T10:59:46.137Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T10:59:46.138Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T10:59:46.139Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T10:59:46.344Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T10:59:46.345Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T10:59:46.345Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T10:59:46.346Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T10:59:46.346Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T10:59:47.192Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:59:47.192Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:59:47.193Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:59:47.193Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T10:59:47.193Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T10:59:47.193Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T10:59:47.195Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T10:59:47.195Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T10:59:47.196Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=69d15919-6dd3-21df-94f2-4e0dee99815d, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T10:59:47.199Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T10:59:47.201Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T10:59:47.204Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T10:59:47.209Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketHandler         : New WebSocket connection: 69d15919-6dd3-21df-94f2-4e0dee99815d
2024-12-24T10:59:53.810Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T10:59:53.811Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T10:59:53.813Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735037993813)
2024-12-24T10:59:53.813Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T10:59:53.814Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Message saved successfully: 18
2024-12-24T10:59:58.996Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=69d15919-6dd3-21df-94f2-4e0dee99815d, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T10:59:58.997Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=69d15919-6dd3-21df-94f2-4e0dee99815d, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw] closed with CloseStatus[code=1006, reason=null]
2024-12-24T10:59:58.997Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=69d15919-6dd3-21df-94f2-4e0dee99815d, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T10:59:58.998Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 69d15919-6dd3-21df-94f2-4e0dee99815d, status: CloseStatus[code=1006, reason=null]
2024-12-24T11:02:59.488Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:02:59.489Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:02:59.489Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T11:02:59.490Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:02:59.491Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T11:02:59.491Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T11:02:59.493Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T11:02:59.699Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T11:02:59.699Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T11:02:59.700Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T11:02:59.700Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T11:02:59.701Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T11:03:00.548Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:03:00.549Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:03:00.549Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:03:00.550Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T11:03:00.550Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:03:00.550Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T11:03:00.551Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T11:03:00.552Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T11:03:00.553Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=58141aee-3125-3b64-fb36-c0724241a401, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T11:03:00.555Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:03:00.557Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:03:00.559Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T11:03:00.564Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.handlers.WebSocketHandler         : New WebSocket connection: 58141aee-3125-3b64-fb36-c0724241a401
2024-12-24T11:04:36.578Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:04:36.580Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:04:36.581Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735038276581)
2024-12-24T11:04:36.582Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T11:04:36.583Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.ChatService              : Message saved successfully: 19
2024-12-24T11:04:44.589Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=58141aee-3125-3b64-fb36-c0724241a401, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T11:04:44.590Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=58141aee-3125-3b64-fb36-c0724241a401, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw] closed with CloseStatus[code=1006, reason=null]
2024-12-24T11:04:44.590Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=58141aee-3125-3b64-fb36-c0724241a401, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T11:04:44.591Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 58141aee-3125-3b64-fb36-c0724241a401, status: CloseStatus[code=1006, reason=null]
2024-12-24T11:10:45.380Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:10:45.381Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:10:45.381Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T11:10:45.381Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:10:45.382Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T11:10:45.382Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T11:10:45.384Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T11:10:45.590Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T11:10:45.590Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T11:10:45.590Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T11:10:45.591Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T11:10:45.592Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T11:10:46.435Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:10:46.436Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:10:46.436Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:10:46.436Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T11:10:46.437Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:10:46.437Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T11:10:46.438Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T11:10:46.439Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T11:10:46.440Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=dca00d58-71cc-c1d2-48d9-3453bd3e3d27, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T11:10:46.443Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:10:46.444Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:10:46.448Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T11:10:46.453Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketHandler         : New WebSocket connection: dca00d58-71cc-c1d2-48d9-3453bd3e3d27
2024-12-24T11:10:49.515Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:10:49.517Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:10:49.518Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735038649518)
2024-12-24T11:10:49.519Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T11:10:49.520Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.ChatService              : Message saved successfully: 20
2024-12-24T11:10:53.837Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=dca00d58-71cc-c1d2-48d9-3453bd3e3d27, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T11:10:53.838Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=dca00d58-71cc-c1d2-48d9-3453bd3e3d27, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw] closed with CloseStatus[code=1006, reason=null]
2024-12-24T11:10:53.839Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=dca00d58-71cc-c1d2-48d9-3453bd3e3d27, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T11:10:53.840Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.handlers.WebSocketHandler         : WebSocket connection closed: dca00d58-71cc-c1d2-48d9-3453bd3e3d27, status: CloseStatus[code=1006, reason=null]
2024-12-24T11:12:03.985Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:12:03.986Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:12:03.986Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T11:12:03.986Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:12:03.987Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T11:12:03.987Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T11:12:03.989Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T11:12:04.195Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T11:12:04.195Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T11:12:04.196Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T11:12:04.196Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T11:12:04.197Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T11:12:05.035Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:12:05.036Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:12:05.036Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:12:05.037Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T11:12:05.037Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:12:05.037Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T11:12:05.039Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T11:12:05.040Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T11:12:05.041Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=19c34bf2-4483-2f90-17ee-819c6d547e38, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T11:12:05.043Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:12:05.045Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:12:05.048Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T11:12:05.053Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.handlers.WebSocketHandler         : New WebSocket connection: 19c34bf2-4483-2f90-17ee-819c6d547e38
2024-12-24T11:12:07.181Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:12:07.182Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:12:07.183Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735038727183)
2024-12-24T11:12:07.184Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T11:12:07.185Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Message saved successfully: 21
2024-12-24T11:12:10.314Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=19c34bf2-4483-2f90-17ee-819c6d547e38, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T11:12:10.315Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=19c34bf2-4483-2f90-17ee-819c6d547e38, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw] closed with CloseStatus[code=1006, reason=null]
2024-12-24T11:12:10.315Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=19c34bf2-4483-2f90-17ee-819c6d547e38, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T11:12:10.316Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 19c34bf2-4483-2f90-17ee-819c6d547e38, status: CloseStatus[code=1006, reason=null]
2024-12-24T11:16:31.736Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:16:31.737Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:16:31.737Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T11:16:31.737Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:16:31.738Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T11:16:31.738Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T11:16:31.740Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T11:16:31.945Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T11:16:31.945Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T11:16:31.946Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T11:16:31.946Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T11:16:31.947Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T11:16:32.797Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:16:32.797Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:16:32.798Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:16:32.798Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T11:16:32.798Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:16:32.799Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T11:16:32.800Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T11:16:32.801Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T11:16:32.801Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=3694d16a-eaec-4c31-18e0-173eca828a8c, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T11:16:32.804Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:16:32.805Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:16:32.808Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T11:16:32.814Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketHandler         : New WebSocket connection: 3694d16a-eaec-4c31-18e0-173eca828a8c
2024-12-24T11:16:35.471Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:16:35.473Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:16:35.474Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735038995474)
2024-12-24T11:16:35.474Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T11:16:35.475Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.ChatService              : Message saved successfully: 22
2024-12-24T11:18:02.057Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=09bf0e27-efb1-d33d-ead3-a4f0e709adab, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw] closed with CloseStatus[code=1000, reason=null]
2024-12-24T11:18:02.057Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=09bf0e27-efb1-d33d-ead3-a4f0e709adab, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T11:18:02.058Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-9] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 09bf0e27-efb1-d33d-ead3-a4f0e709adab, status: CloseStatus[code=1000, reason=null]
2024-12-24T11:18:02.636Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:18:02.637Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:18:02.637Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:18:02.638Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T11:18:02.638Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:18:02.638Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T11:18:02.639Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T11:18:02.641Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T11:18:02.642Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=881cc7dc-2377-7db7-cbd8-32002dbce211, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T11:18:02.645Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:18:02.647Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:18:02.650Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T11:18:02.657Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.handlers.WebSocketHandler         : New WebSocket connection: 881cc7dc-2377-7db7-cbd8-32002dbce211
2024-12-24T11:18:05.841Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:18:05.842Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:18:05.843Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=?, timestamp=1735039085843)
2024-12-24T11:18:05.844Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T11:18:05.845Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.services.ChatService              : Message saved successfully: 23
2024-12-24T11:18:14.498Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:18:14.499Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:18:14.500Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=?, timestamp=1735039094500)
2024-12-24T11:18:14.501Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T11:18:14.502Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Message saved successfully: 24
2024-12-24T11:18:15.679Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:18:15.680Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:18:15.681Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=?, timestamp=1735039095681)
2024-12-24T11:18:15.681Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T11:18:15.682Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.services.ChatService              : Message saved successfully: 25
2024-12-24T11:18:28.217Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:18:28.218Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:18:28.219Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735039108219)
2024-12-24T11:18:28.220Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T11:18:28.220Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.services.ChatService              : Message saved successfully: 26
2024-12-24T11:18:42.647Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:18:42.648Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:18:42.650Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735039122650)
2024-12-24T11:18:42.650Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T11:18:42.651Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-7] jugger.services.ChatService              : Message saved successfully: 27
2024-12-24T11:19:23.089Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:19:23.091Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:19:23.092Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735039163091)
2024-12-24T11:19:23.092Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T11:19:23.093Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.services.ChatService              : Message saved successfully: 28
2024-12-24T11:20:44.037Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=3694d16a-eaec-4c31-18e0-173eca828a8c, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T11:20:44.038Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=3694d16a-eaec-4c31-18e0-173eca828a8c, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw] closed with CloseStatus[code=1006, reason=null]
2024-12-24T11:20:44.039Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=3694d16a-eaec-4c31-18e0-173eca828a8c, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T11:20:44.039Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-9] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 3694d16a-eaec-4c31-18e0-173eca828a8c, status: CloseStatus[code=1006, reason=null]
2024-12-24T11:20:53.864Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:20:53.865Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:20:53.865Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T11:20:53.865Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:20:53.866Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T11:20:53.867Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T11:20:53.868Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T11:20:54.076Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T11:20:54.076Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T11:20:54.077Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T11:20:54.077Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T11:20:54.078Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T11:20:54.919Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:20:54.919Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:20:54.919Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:20:54.920Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T11:20:54.920Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:20:54.920Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T11:20:54.921Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T11:20:54.922Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T11:20:54.922Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=eff3f110-be7c-d791-8a71-a2e282db25ba, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T11:20:54.925Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:20:54.926Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:20:54.929Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T11:20:54.934Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.handlers.WebSocketHandler         : New WebSocket connection: eff3f110-be7c-d791-8a71-a2e282db25ba
2024-12-24T11:21:17.811Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:21:17.813Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:21:17.814Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=6, content=, timestamp=1735039277814)
2024-12-24T11:21:17.814Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T11:21:17.815Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Message saved successfully: 29
2024-12-24T11:22:00.466Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=eff3f110-be7c-d791-8a71-a2e282db25ba, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T11:22:00.467Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=eff3f110-be7c-d791-8a71-a2e282db25ba, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw] closed with CloseStatus[code=1006, reason=null]
2024-12-24T11:22:00.467Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=eff3f110-be7c-d791-8a71-a2e282db25ba, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T11:22:00.468Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : WebSocket connection closed: eff3f110-be7c-d791-8a71-a2e282db25ba, status: CloseStatus[code=1006, reason=null]
2024-12-24T11:22:10.950Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:22:10.951Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:22:10.951Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T11:22:10.952Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:22:10.952Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T11:22:10.953Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T11:22:10.954Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T11:22:11.159Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T11:22:11.159Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T11:22:11.160Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T11:22:11.160Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T11:22:11.161Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T11:22:12.005Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:22:12.006Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:22:12.006Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:22:12.007Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwMzkzMzEsImV4cCI6MTczNTEyNTczMX0.d2x86159m9dDkoX4HV61pDHcyoAmKL-9SO3g6Or3KeI", parameters={masked}
2024-12-24T11:22:12.007Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:22:12.007Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T11:22:12.008Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T11:22:12.010Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T11:22:12.011Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=8004075c-6f7d-0362-ccf0-6ccb3cd24cf1, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwMzkzMzEsImV4cCI6MTczNTEyNTczMX0.d2x86159m9dDkoX4HV61pDHcyoAmKL-9SO3g6Or3KeI]
2024-12-24T11:22:12.013Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:22:12.014Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:22:12.017Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.sender_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T11:22:12.022Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.handlers.WebSocketHandler         : New WebSocket connection: 8004075c-6f7d-0362-ccf0-6ccb3cd24cf1
2024-12-24T11:22:24.339Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:22:24.340Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:22:24.341Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=7, content=, timestamp=1735039344341)
2024-12-24T11:22:24.342Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : insert into chat_messages (content,location_id,sender_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T11:22:24.343Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.ChatService              : Message saved successfully: 30
2024-12-24T11:29:44.996Z DEBUG 1 --- [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=881cc7dc-2377-7db7-cbd8-32002dbce211, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw] closed with CloseStatus[code=1001, reason=The web application is stopping]
2024-12-24T11:29:44.996Z DEBUG 1 --- [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=881cc7dc-2377-7db7-cbd8-32002dbce211, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T11:29:44.998Z  INFO 1 --- [SpringApplicationShutdownHook] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 881cc7dc-2377-7db7-cbd8-32002dbce211, status: CloseStatus[code=1001, reason=The web application is stopping]
2024-12-24T11:29:44.998Z DEBUG 1 --- [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=8004075c-6f7d-0362-ccf0-6ccb3cd24cf1, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwMzkzMzEsImV4cCI6MTczNTEyNTczMX0.d2x86159m9dDkoX4HV61pDHcyoAmKL-9SO3g6Or3KeI] closed with CloseStatus[code=1001, reason=The web application is stopping]
2024-12-24T11:29:44.998Z DEBUG 1 --- [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=8004075c-6f7d-0362-ccf0-6ccb3cd24cf1, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwMzkzMzEsImV4cCI6MTczNTEyNTczMX0.d2x86159m9dDkoX4HV61pDHcyoAmKL-9SO3g6Or3KeI]
2024-12-24T11:29:44.999Z  INFO 1 --- [SpringApplicationShutdownHook] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 8004075c-6f7d-0362-ccf0-6ccb3cd24cf1, status: CloseStatus[code=1001, reason=The web application is stopping]
2024-12-24T11:29:45.009Z  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-24T11:29:45.012Z  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-24T11:29:45.014Z  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-24T11:31:33.035Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : Starting JugglerApplicationKt v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/app.jar started by root in /app)
2024-12-24T11:31:33.037Z DEBUG 1 --- [main] jugger.JugglerApplicationKt              : Running with Spring Boot v3.1.5, Spring v6.0.13
2024-12-24T11:31:33.039Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : No active profile set, falling back to 1 default profile: "default"
2024-12-24T11:31:33.639Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-24T11:31:33.682Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 3 JPA repository interfaces.
2024-12-24T11:31:34.115Z  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6705d26d-0b7e-38aa-aa1c-ec068849b258
2024-12-24T11:31:34.200Z  INFO 1 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jugger.models.AuthClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-24T11:31:34.561Z  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-12-24T11:31:34.577Z  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-24T11:31:34.579Z  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-12-24T11:31:34.679Z  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-24T11:31:34.680Z  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1564 ms
2024-12-24T11:31:34.750Z DEBUG 1 --- [main] j.c.SecurityConfig$jwtTokenFilter$1      : Filter 'jwtTokenFilter' configured for use
2024-12-24T11:31:34.882Z  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-24T11:31:34.930Z  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.13.Final
2024-12-24T11:31:34.933Z  INFO 1 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-12-24T11:31:35.164Z  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-24T11:31:35.182Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-24T11:31:35.279Z  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4d847d32
2024-12-24T11:31:35.282Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-24T11:31:35.318Z  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-24T11:31:35.817Z  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-24T11:31:35.862Z DEBUG 1 --- [main] org.hibernate.SQL                        : alter table if exists chat_messages add column user_id bigint
2024-12-24T11:31:35.890Z DEBUG 1 --- [main] org.hibernate.SQL                        : alter table if exists chat_messages add constraint FK6f0y4l43ihmgfswkgy9yrtjkh foreign key (user_id) references users
2024-12-24T11:31:35.897Z  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-24T11:31:36.620Z  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-24T11:31:36.644Z  WARN 1 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 9b8351a5-8921-4da7-92c6-d4003055a6c4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-24T11:31:36.751Z DEBUG 1 --- [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/chat] in 'webSocketHandlerMapping'
2024-12-24T11:31:36.807Z DEBUG 1 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 6 mappings in 'requestMappingHandlerMapping'
2024-12-24T11:31:36.841Z DEBUG 1 --- [main] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2024-12-24T11:31:36.868Z  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3252747e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b4b96a4, org.springframework.security.web.context.SecurityContextHolderFilter@3b95a6db, org.springframework.security.web.header.HeaderWriterFilter@fb49fdf, org.springframework.web.filter.CorsFilter@2dd8ff1d, org.springframework.security.web.authentication.logout.LogoutFilter@5f36c8e3, jugger.config.SecurityConfig$jwtTokenFilter$1@332a7fce, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c9a6717, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d091cad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17e9bc9e, org.springframework.security.web.session.SessionManagementFilter@12a2585b, org.springframework.security.web.access.ExceptionTranslationFilter@7f4701b1, org.springframework.security.web.access.intercept.AuthorizationFilter@3234474]
2024-12-24T11:31:36.975Z DEBUG 1 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-24T11:31:37.021Z DEBUG 1 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-24T11:31:37.237Z  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-12-24T11:31:37.252Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : Started JugglerApplicationKt in 4.728 seconds (process running for 5.218)
2024-12-24T11:32:15.547Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-24T11:32:15.547Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-24T11:32:15.548Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-24T11:32:15.548Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-24T11:32:15.548Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-24T11:32:15.550Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@32bb0072
2024-12-24T11:32:15.551Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@27443560
2024-12-24T11:32:15.552Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-24T11:32:15.552Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2024-12-24T11:32:15.586Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:32:15.588Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:32:15.592Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T11:32:15.594Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:32:15.697Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T11:32:15.703Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T11:32:15.824Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T11:32:16.221Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T11:32:16.221Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T11:32:16.257Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T11:32:16.260Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T11:32:16.269Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T11:32:17.125Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:32:17.126Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:32:17.126Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:32:17.127Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwMzk5MzYsImV4cCI6MTczNTEyNjMzNn0.o64RjhCkpv0IKO3EPv4G8eMWp8hw-MtqhV-2uxNA2Yo", parameters={masked}
2024-12-24T11:32:17.128Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T11:32:17.131Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T11:32:17.135Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T11:32:17.157Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T11:32:17.176Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=4a6d87cf-d0b9-e46c-a21f-6c86f8e69edd, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwMzk5MzYsImV4cCI6MTczNTEyNjMzNn0.o64RjhCkpv0IKO3EPv4G8eMWp8hw-MtqhV-2uxNA2Yo]
2024-12-24T11:32:17.191Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:32:17.201Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:32:17.223Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.user_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T11:32:17.228Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketHandler         : New WebSocket connection: 4a6d87cf-d0b9-e46c-a21f-6c86f8e69edd
2024-12-24T11:32:22.220Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:32:22.222Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:32:22.228Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=User(id=39, email=talib2@mail.ru, password=$2a$12$13SbxhntFTRCc3J0jsteLO4WqJkKcbABzcwpMdA6kuxm6wl1SHAfu, createdAt=2024-12-24T07:53:56.419198, haveCharacter=true), content=, timestamp=1735039942223)
2024-12-24T11:32:22.244Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : insert into chat_messages (content,location_id,user_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T11:32:22.254Z  WARN 1 --- [http-nio-0.0.0.0-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2024-12-24T11:32:22.255Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: null value in column "sender_id" of relation "chat_messages" violates not-null constraint
  Detail: Failing row contains (31, TEXT, 2, null, , 1735039942223, 39).
2024-12-24T11:32:22.264Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Detailed error processing message

org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "sender_id" of relation "chat_messages" violates not-null constraint
  Detail: Failing row contains (31, TEXT, 2, null, , 1735039942223, 39).] [insert into chat_messages (content,location_id,user_id,timestamp,type) values (?,?,?,?,?)]; SQL [insert into chat_messages (content,location_id,user_id,timestamp,type) values (?,?,?,?,?)]; constraint [sender_id" of relation "chat_messages]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:269) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.5.jar!/:3.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.data.repository.core.support.MethodInvocationValidator.invoke(MethodInvocationValidator.java:94) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at jdk.proxy2/jdk.proxy2.$Proxy127.save(Unknown Source) ~[na:na]
	at jugger.services.ChatService.processMessage(ChatService.kt:76) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at jugger.services.ChatService$$SpringCGLIB$$0.processMessage(<generated>) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.handleTextMessage(WebSocketHandler.kt:70) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: null value in column "sender_id" of relation "chat_messages" violates not-null constraint
  Detail: Failing row contains (31, TEXT, 2, null, , 1735039942223, 39).] [insert into chat_messages (content,location_id,user_id,timestamp,type) values (?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:278) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performInsert(GetGeneratedKeysDelegate.java:107) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorPostInsertSingleTable.execute(MutationExecutorPostInsertSingleTable.java:100) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:171) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:112) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2780) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:676) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:363) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:277) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:180) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:140) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:755) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:739) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at jdk.proxy2/jdk.proxy2.$Proxy119.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:618) ~[spring-data-jpa-3.1.5.jar!/:3.1.5]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar!/:6.0.13]
	... 51 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "sender_id" of relation "chat_messages" violates not-null constraint
  Detail: Failing row contains (31, TEXT, 2, null, , 1735039942223, 39).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152) ~[postgresql-42.6.0.jar!/:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar!/:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:275) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	... 100 common frames omitted

2024-12-24T11:32:22.274Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketHandler         : Message processing error: Failed to process message

java.lang.RuntimeException: Failed to process message
	at jugger.services.ChatService.processMessage(ChatService.kt:85) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at jugger.services.ChatService$$SpringCGLIB$$0.processMessage(<generated>) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.handleTextMessage(WebSocketHandler.kt:70) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "sender_id" of relation "chat_messages" violates not-null constraint
  Detail: Failing row contains (31, TEXT, 2, null, , 1735039942223, 39).] [insert into chat_messages (content,location_id,user_id,timestamp,type) values (?,?,?,?,?)]; SQL [insert into chat_messages (content,location_id,user_id,timestamp,type) values (?,?,?,?,?)]; constraint [sender_id" of relation "chat_messages]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:269) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.5.jar!/:3.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.data.repository.core.support.MethodInvocationValidator.invoke(MethodInvocationValidator.java:94) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at jdk.proxy2/jdk.proxy2.$Proxy127.save(Unknown Source) ~[na:na]
	at jugger.services.ChatService.processMessage(ChatService.kt:76) ~[classes!/:0.0.1-SNAPSHOT]
	... 41 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: null value in column "sender_id" of relation "chat_messages" violates not-null constraint
  Detail: Failing row contains (31, TEXT, 2, null, , 1735039942223, 39).] [insert into chat_messages (content,location_id,user_id,timestamp,type) values (?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:278) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performInsert(GetGeneratedKeysDelegate.java:107) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorPostInsertSingleTable.execute(MutationExecutorPostInsertSingleTable.java:100) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:171) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:112) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2780) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:676) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:363) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:277) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:180) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:140) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:755) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:739) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.13.jar!/:6.0.13]
	at jdk.proxy2/jdk.proxy2.$Proxy119.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:618) ~[spring-data-jpa-3.1.5.jar!/:3.1.5]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar!/:3.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar!/:6.0.13]
	... 51 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "sender_id" of relation "chat_messages" violates not-null constraint
  Detail: Failing row contains (31, TEXT, 2, null, , 1735039942223, 39).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar!/:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152) ~[postgresql-42.6.0.jar!/:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar!/:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar!/:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:275) ~[hibernate-core-6.2.13.Final.jar!/:6.2.13.Final]
	... 100 common frames omitted

2024-12-24T11:33:29.534Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=4a6d87cf-d0b9-e46c-a21f-6c86f8e69edd, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwMzk5MzYsImV4cCI6MTczNTEyNjMzNn0.o64RjhCkpv0IKO3EPv4G8eMWp8hw-MtqhV-2uxNA2Yo]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T11:33:29.537Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=4a6d87cf-d0b9-e46c-a21f-6c86f8e69edd, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwMzk5MzYsImV4cCI6MTczNTEyNjMzNn0.o64RjhCkpv0IKO3EPv4G8eMWp8hw-MtqhV-2uxNA2Yo] closed with CloseStatus[code=1006, reason=null]
2024-12-24T11:33:29.538Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=4a6d87cf-d0b9-e46c-a21f-6c86f8e69edd, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwMzk5MzYsImV4cCI6MTczNTEyNjMzNn0.o64RjhCkpv0IKO3EPv4G8eMWp8hw-MtqhV-2uxNA2Yo]
2024-12-24T11:33:29.540Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 4a6d87cf-d0b9-e46c-a21f-6c86f8e69edd, status: CloseStatus[code=1006, reason=null]
2024-12-24T11:57:32.780Z  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-24T11:57:32.783Z  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-24T11:57:32.786Z  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-24T11:58:00.820Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : Starting JugglerApplicationKt v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/app.jar started by root in /app)
2024-12-24T11:58:00.822Z DEBUG 1 --- [main] jugger.JugglerApplicationKt              : Running with Spring Boot v3.1.5, Spring v6.0.13
2024-12-24T11:58:00.824Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : No active profile set, falling back to 1 default profile: "default"
2024-12-24T11:58:01.436Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-24T11:58:01.476Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 3 JPA repository interfaces.
2024-12-24T11:58:01.924Z  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6705d26d-0b7e-38aa-aa1c-ec068849b258
2024-12-24T11:58:02.003Z  INFO 1 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jugger.models.AuthClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-24T11:58:02.357Z  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-12-24T11:58:02.373Z  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-24T11:58:02.374Z  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-12-24T11:58:02.498Z  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-24T11:58:02.499Z  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1601 ms
2024-12-24T11:58:02.580Z DEBUG 1 --- [main] j.c.SecurityConfig$jwtTokenFilter$1      : Filter 'jwtTokenFilter' configured for use
2024-12-24T11:58:02.709Z  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-24T11:58:02.758Z  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.13.Final
2024-12-24T11:58:02.761Z  INFO 1 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-12-24T11:58:02.993Z  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-24T11:58:03.011Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-24T11:58:03.109Z  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@644abb8f
2024-12-24T11:58:03.111Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-24T11:58:03.139Z  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-24T11:58:03.638Z  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-24T11:58:03.715Z  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-24T11:58:04.415Z  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-24T11:58:04.439Z  WARN 1 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 5fda0694-54fd-446f-bc8c-2d38871d3b70

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-24T11:58:04.545Z DEBUG 1 --- [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/chat] in 'webSocketHandlerMapping'
2024-12-24T11:58:04.597Z DEBUG 1 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 6 mappings in 'requestMappingHandlerMapping'
2024-12-24T11:58:04.627Z DEBUG 1 --- [main] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2024-12-24T11:58:04.653Z  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3127cb44, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3234474, org.springframework.security.web.context.SecurityContextHolderFilter@753fd7a1, org.springframework.security.web.header.HeaderWriterFilter@1823b9c4, org.springframework.web.filter.CorsFilter@631cb129, org.springframework.security.web.authentication.logout.LogoutFilter@431e86b1, jugger.config.SecurityConfig$jwtTokenFilter$1@71104a4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21b6c9c2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b95a6db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d20e575, org.springframework.security.web.session.SessionManagementFilter@7da34b26, org.springframework.security.web.access.ExceptionTranslationFilter@68699afc, org.springframework.security.web.access.intercept.AuthorizationFilter@6d0be7ab]
2024-12-24T11:58:04.753Z DEBUG 1 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-24T11:58:04.791Z DEBUG 1 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-24T11:58:04.984Z  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-12-24T11:58:05.001Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : Started JugglerApplicationKt in 4.705 seconds (process running for 5.203)
2024-12-24T11:59:53.739Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-24T11:59:53.740Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-24T11:59:53.740Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-24T11:59:53.740Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-24T11:59:53.742Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-24T11:59:53.744Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@b61edb9
2024-12-24T11:59:53.745Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5649d11a
2024-12-24T11:59:53.745Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-24T11:59:53.746Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2024-12-24T11:59:53.775Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:59:53.777Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:59:53.780Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T11:59:53.782Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T11:59:53.874Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T11:59:53.880Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T11:59:54.010Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T11:59:54.440Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T11:59:54.441Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T11:59:54.482Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T11:59:54.486Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T11:59:54.496Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T11:59:55.350Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@655f69da
2024-12-24T11:59:55.352Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@655f69da
2024-12-24T11:59:55.353Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@655f69da
2024-12-24T11:59:55.354Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE1OTQsImV4cCI6MTczNTEyNzk5NH0.RjzBAysW8KLcpQXLTx7yzGownp7WhejXutjmJhux0ps", parameters={masked}
2024-12-24T11:59:55.355Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@655f69da
2024-12-24T11:59:55.358Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T11:59:55.363Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T11:59:55.395Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T11:59:55.417Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=9437f14a-c2f8-eaae-fffc-b47dfe90b0bb, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE1OTQsImV4cCI6MTczNTEyNzk5NH0.RjzBAysW8KLcpQXLTx7yzGownp7WhejXutjmJhux0ps]
2024-12-24T11:59:55.436Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:59:55.447Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T11:59:55.470Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.user_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T11:59:55.475Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketHandler         : New WebSocket connection: 9437f14a-c2f8-eaae-fffc-b47dfe90b0bb
2024-12-24T11:59:58.922Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T11:59:58.925Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T11:59:58.927Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Detailed error processing message

java.lang.IllegalArgumentException: Invalid or missing userId
	at jugger.services.ChatService.processMessage(ChatService.kt:66) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at jugger.services.ChatService$$SpringCGLIB$$0.processMessage(<generated>) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.handleTextMessage(WebSocketHandler.kt:70) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T11:59:58.934Z ERROR 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.handlers.WebSocketHandler         : Message processing error: Failed to process message

java.lang.RuntimeException: Failed to process message
	at jugger.services.ChatService.processMessage(ChatService.kt:97) ~[classes!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar!/:6.0.13]
	at jugger.services.ChatService$$SpringCGLIB$$0.processMessage(<generated>) ~[classes!/:0.0.1-SNAPSHOT]
	at jugger.handlers.WebSocketHandler.handleTextMessage(WebSocketHandler.kt:70) ~[classes!/:0.0.1-SNAPSHOT]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.0.13.jar!/:6.0.13]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: Invalid or missing userId
	at jugger.services.ChatService.processMessage(ChatService.kt:66) ~[classes!/:0.0.1-SNAPSHOT]
	... 41 common frames omitted

2024-12-24T12:00:13.833Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=9437f14a-c2f8-eaae-fffc-b47dfe90b0bb, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE1OTQsImV4cCI6MTczNTEyNzk5NH0.RjzBAysW8KLcpQXLTx7yzGownp7WhejXutjmJhux0ps]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T12:00:13.836Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=9437f14a-c2f8-eaae-fffc-b47dfe90b0bb, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE1OTQsImV4cCI6MTczNTEyNzk5NH0.RjzBAysW8KLcpQXLTx7yzGownp7WhejXutjmJhux0ps] closed with CloseStatus[code=1006, reason=null]
2024-12-24T12:00:13.836Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=9437f14a-c2f8-eaae-fffc-b47dfe90b0bb, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE1OTQsImV4cCI6MTczNTEyNzk5NH0.RjzBAysW8KLcpQXLTx7yzGownp7WhejXutjmJhux0ps]
2024-12-24T12:00:13.838Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 9437f14a-c2f8-eaae-fffc-b47dfe90b0bb, status: CloseStatus[code=1006, reason=null]
2024-12-24T12:02:45.026Z  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-24T12:02:45.029Z  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-24T12:02:45.032Z  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-24T12:03:05.004Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : Starting JugglerApplicationKt v0.0.1-SNAPSHOT using Java 17.0.2 with PID 1 (/app/app.jar started by root in /app)
2024-12-24T12:03:05.007Z DEBUG 1 --- [main] jugger.JugglerApplicationKt              : Running with Spring Boot v3.1.5, Spring v6.0.13
2024-12-24T12:03:05.009Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : No active profile set, falling back to 1 default profile: "default"
2024-12-24T12:03:05.591Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-24T12:03:05.634Z  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 3 JPA repository interfaces.
2024-12-24T12:03:06.072Z  INFO 1 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6705d26d-0b7e-38aa-aa1c-ec068849b258
2024-12-24T12:03:06.156Z  INFO 1 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jugger.models.AuthClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-24T12:03:06.487Z  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-12-24T12:03:06.502Z  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-24T12:03:06.503Z  INFO 1 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-12-24T12:03:06.617Z  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-24T12:03:06.618Z  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1529 ms
2024-12-24T12:03:06.719Z DEBUG 1 --- [main] j.c.SecurityConfig$jwtTokenFilter$1      : Filter 'jwtTokenFilter' configured for use
2024-12-24T12:03:06.871Z  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-24T12:03:06.930Z  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.13.Final
2024-12-24T12:03:06.936Z  INFO 1 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-12-24T12:03:07.232Z  INFO 1 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-24T12:03:07.253Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-24T12:03:07.347Z  INFO 1 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4d847d32
2024-12-24T12:03:07.349Z  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-24T12:03:07.385Z  WARN 1 --- [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-24T12:03:07.898Z  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-24T12:03:07.969Z  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-24T12:03:08.764Z  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-24T12:03:08.787Z  WARN 1 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: e96c7b81-a607-46cf-90ad-8b6b9daabd81

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-24T12:03:08.882Z DEBUG 1 --- [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/chat] in 'webSocketHandlerMapping'
2024-12-24T12:03:08.927Z DEBUG 1 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 6 mappings in 'requestMappingHandlerMapping'
2024-12-24T12:03:08.958Z DEBUG 1 --- [main] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2024-12-24T12:03:08.986Z  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3252747e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b4b96a4, org.springframework.security.web.context.SecurityContextHolderFilter@3b95a6db, org.springframework.security.web.header.HeaderWriterFilter@fb49fdf, org.springframework.web.filter.CorsFilter@2dd8ff1d, org.springframework.security.web.authentication.logout.LogoutFilter@5f36c8e3, jugger.config.SecurityConfig$jwtTokenFilter$1@332a7fce, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c9a6717, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d091cad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17e9bc9e, org.springframework.security.web.session.SessionManagementFilter@12a2585b, org.springframework.security.web.access.ExceptionTranslationFilter@7f4701b1, org.springframework.security.web.access.intercept.AuthorizationFilter@3234474]
2024-12-24T12:03:09.093Z DEBUG 1 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-24T12:03:09.144Z DEBUG 1 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-24T12:03:09.362Z  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-12-24T12:03:09.378Z  INFO 1 --- [main] jugger.JugglerApplicationKt              : Started JugglerApplicationKt in 4.888 seconds (process running for 5.394)
2024-12-24T12:03:28.490Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-24T12:03:28.491Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-24T12:03:28.492Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-24T12:03:28.492Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-24T12:03:28.493Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-24T12:03:28.494Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@427a12b6
2024-12-24T12:03:28.495Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2582b0ef
2024-12-24T12:03:28.496Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-24T12:03:28.496Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2024-12-24T12:03:28.517Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T12:03:28.519Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T12:03:28.523Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T12:03:28.526Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T12:03:28.612Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T12:03:28.617Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T12:03:28.699Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T12:03:29.026Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T12:03:29.027Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T12:03:29.054Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T12:03:29.057Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T12:03:29.063Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T12:03:29.927Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T12:03:29.928Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T12:03:29.929Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T12:03:29.930Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE4MDgsImV4cCI6MTczNTEyODIwOH0.yvxHwGQyh8BMgnUMMBbsTqtEho0AvPL0VdWDqY4xwlk", parameters={masked}
2024-12-24T12:03:29.931Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T12:03:29.932Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T12:03:29.935Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T12:03:29.951Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T12:03:29.964Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=baba1df3-9757-d3e3-8692-e90f7ad47cf4, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE4MDgsImV4cCI6MTczNTEyODIwOH0.yvxHwGQyh8BMgnUMMBbsTqtEho0AvPL0VdWDqY4xwlk]
2024-12-24T12:03:29.976Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T12:03:29.985Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T12:03:30.000Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.user_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T12:03:30.004Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketHandler         : New WebSocket connection: baba1df3-9757-d3e3-8692-e90f7ad47cf4
2024-12-24T12:03:31.852Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T12:03:31.856Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T12:03:31.864Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=User(id=39, email=talib2@mail.ru, password=$2a$12$13SbxhntFTRCc3J0jsteLO4WqJkKcbABzcwpMdA6kuxm6wl1SHAfu, createdAt=2024-12-24T07:53:56.419198, haveCharacter=true), content=, timestamp=1735041811858)
2024-12-24T12:03:31.877Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : insert into chat_messages (content,location_id,user_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T12:03:31.885Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Message saved successfully: 1
2024-12-24T12:05:47.223Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=baba1df3-9757-d3e3-8692-e90f7ad47cf4, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE4MDgsImV4cCI6MTczNTEyODIwOH0.yvxHwGQyh8BMgnUMMBbsTqtEho0AvPL0VdWDqY4xwlk]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T12:05:47.228Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=baba1df3-9757-d3e3-8692-e90f7ad47cf4, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE4MDgsImV4cCI6MTczNTEyODIwOH0.yvxHwGQyh8BMgnUMMBbsTqtEho0AvPL0VdWDqY4xwlk] closed with CloseStatus[code=1006, reason=null]
2024-12-24T12:05:47.228Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=baba1df3-9757-d3e3-8692-e90f7ad47cf4, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE4MDgsImV4cCI6MTczNTEyODIwOH0.yvxHwGQyh8BMgnUMMBbsTqtEho0AvPL0VdWDqY4xwlk]
2024-12-24T12:05:47.230Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.handlers.WebSocketHandler         : WebSocket connection closed: baba1df3-9757-d3e3-8692-e90f7ad47cf4, status: CloseStatus[code=1006, reason=null]
2024-12-24T12:05:57.619Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T12:05:57.620Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T12:05:57.620Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-24T12:05:57.621Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to jugger.controllers.AuthController#loginUser(UserLoginDto)
2024-12-24T12:05:57.622Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserLoginDto(email=talib2@mail.ru, password=12345678A)]
2024-12-24T12:05:57.623Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.controllers.AuthController        : Attempting to login user: talib2@mail.ru
2024-12-24T12:05:57.624Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T12:05:57.830Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.UserService              : User authenticated successfully: talib2@mail.ru
2024-12-24T12:05:57.831Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.services.UserService              : Mapping user to response DTO: email=talib2@mail.ru
2024-12-24T12:05:57.831Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-24T12:05:57.832Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserAuthResponseDto(id=39, email=talib2@mail.ru, token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFp (truncated)...]
2024-12-24T12:05:57.833Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-24T12:05:58.688Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T12:05:58.689Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T12:05:58.689Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T12:05:58.690Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE5NTcsImV4cCI6MTczNTEyODM1N30.SoaVFuyvjia5ZfCbzQ50s-f_RevrYLwx92qvSXGi43c", parameters={masked}
2024-12-24T12:05:58.691Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T12:05:58.691Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T12:05:58.693Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T12:05:58.694Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T12:05:58.695Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=66dfe479-c452-6469-9148-4ebbec98915c, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE5NTcsImV4cCI6MTczNTEyODM1N30.SoaVFuyvjia5ZfCbzQ50s-f_RevrYLwx92qvSXGi43c]
2024-12-24T12:05:58.698Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T12:05:58.700Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T12:05:58.703Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.user_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T12:05:58.706Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-8] jugger.handlers.WebSocketHandler         : New WebSocket connection: 66dfe479-c452-6469-9148-4ebbec98915c
2024-12-24T12:06:01.649Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T12:06:01.652Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T12:06:01.654Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=User(id=39, email=talib2@mail.ru, password=$2a$12$13SbxhntFTRCc3J0jsteLO4WqJkKcbABzcwpMdA6kuxm6wl1SHAfu, createdAt=2024-12-24T07:53:56.419198, haveCharacter=true), content=, timestamp=1735041961654)
2024-12-24T12:06:01.655Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : insert into chat_messages (content,location_id,user_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T12:06:01.657Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-10] jugger.services.ChatService              : Message saved successfully: 2
2024-12-24T12:06:06.489Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T12:06:06.493Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T12:06:06.494Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=User(id=39, email=talib2@mail.ru, password=$2a$12$13SbxhntFTRCc3J0jsteLO4WqJkKcbABzcwpMdA6kuxm6wl1SHAfu, createdAt=2024-12-24T07:53:56.419198, haveCharacter=true), content= ?, timestamp=1735041966494)
2024-12-24T12:06:06.495Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : insert into chat_messages (content,location_id,user_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T12:06:06.497Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-2] jugger.services.ChatService              : Message saved successfully: 3
2024-12-24T12:06:39.051Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T12:06:39.053Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T12:06:39.053Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T12:06:39.054Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw", parameters={masked}
2024-12-24T12:06:39.054Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@2e86807a
2024-12-24T12:06:39.055Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /chat
2024-12-24T12:06:39.056Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketAuthHandler     : WebSocket authentication successful
2024-12-24T12:06:39.062Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-24T12:06:39.064Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=c6392c6e-4aad-cf56-567e-c172db0b6713, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwidXNlcklkIjozOCwiZW1haWwiOiJ0ZXN0dXNlcjY2QGV4YW1wbGUuY29tIiwiaWF0IjoxNzM1MDIyNjExLCJleHAiOjE3MzUxMDkwMTF9.KYas3slFYSvVy2m3nEvGJKhm1FrPBoOgnrpRpZGowsw]
2024-12-24T12:06:39.068Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T12:06:39.070Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T12:06:39.074Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.content,c1_0.location_id,c1_0.user_id,c1_0.timestamp,c1_0.type from chat_messages c1_0 where c1_0.location_id=? order by c1_0.timestamp desc offset ? rows fetch first ? rows only
2024-12-24T12:06:39.075Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.id=?
2024-12-24T12:06:39.080Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-3] jugger.handlers.WebSocketHandler         : New WebSocket connection: c6392c6e-4aad-cf56-567e-c172db0b6713
2024-12-24T12:06:41.402Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T12:06:41.404Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T12:06:41.406Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=User(id=38, email=testuser66@example.com, password=$2a$12$d31bP9eqRqdrtxrP5Ie4s.BwTWilFfwbQYBoJApK0dzgtrfj.STfS, createdAt=2024-12-24T06:43:25.123110, haveCharacter=true), content=, timestamp=1735042001406)
2024-12-24T12:06:41.407Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : insert into chat_messages (content,location_id,user_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T12:06:41.408Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-4] jugger.services.ChatService              : Message saved successfully: 4
2024-12-24T12:06:45.388Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.created_at,u1_0.email,u1_0.have_character,u1_0.password from users u1_0 where u1_0.email=?
2024-12-24T12:06:45.391Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.banned,c1_0.character_class,c1_0.character_name,c1_0.created_at,c1_0.email,c1_0.experience,c1_0.health,c1_0.level,c1_0.location_id,c1_0.mana,c1_0.updated_at,c1_0.user_id from characters c1_0 where c1_0.email=?
2024-12-24T12:06:45.392Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.services.ChatService              : Attempting to save message: ChatMessage(id=null, type=TEXT, locationId=2, senderId=User(id=38, email=testuser66@example.com, password=$2a$12$d31bP9eqRqdrtxrP5Ie4s.BwTWilFfwbQYBoJApK0dzgtrfj.STfS, createdAt=2024-12-24T06:43:25.123110, haveCharacter=true), content=, timestamp=1735042005392)
2024-12-24T12:06:45.393Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : insert into chat_messages (content,location_id,user_id,timestamp,type) values (?,?,?,?,?)
2024-12-24T12:06:45.395Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-5] jugger.services.ChatService              : Message saved successfully: 5
2024-12-24T12:07:02.619Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=66dfe479-c452-6469-9148-4ebbec98915c, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE5NTcsImV4cCI6MTczNTEyODM1N30.SoaVFuyvjia5ZfCbzQ50s-f_RevrYLwx92qvSXGi43c]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1296) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.15.jar!/:na]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-24T12:07:02.620Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=66dfe479-c452-6469-9148-4ebbec98915c, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE5NTcsImV4cCI6MTczNTEyODM1N30.SoaVFuyvjia5ZfCbzQ50s-f_RevrYLwx92qvSXGi43c] closed with CloseStatus[code=1006, reason=null]
2024-12-24T12:07:02.621Z DEBUG 1 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=66dfe479-c452-6469-9148-4ebbec98915c, uri=ws://localhost:8081/chat?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0YWxpYjJAbWFpbC5ydSIsInVzZXJJZCI6MzksImVtYWlsIjoidGFsaWIyQG1haWwucnUiLCJpYXQiOjE3MzUwNDE5NTcsImV4cCI6MTczNTEyODM1N30.SoaVFuyvjia5ZfCbzQ50s-f_RevrYLwx92qvSXGi43c]
2024-12-24T12:07:02.622Z  INFO 1 --- [http-nio-0.0.0.0-8080-exec-6] jugger.handlers.WebSocketHandler         : WebSocket connection closed: 66dfe479-c452-6469-9148-4ebbec98915c, status: CloseStatus[code=1006, reason=null]
